/**
 * React WebKit - v0.0.5
 * The react web widget kit base on typescript
 * 
 * Copyright 2016 - present, Dennis Chen, All rights reserved.
 * 
 * Released under MIT license
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom"),require("jquery")):"function"==typeof define&&define.amd?define(["react","react-dom","jquery"],e):"object"==typeof exports?exports.ReactWebKit=e(require("react"),require("react-dom"),require("jquery")):t.ReactWebKit=e(t.React,t.ReactDOM,t.jQuery)}(this,function(t,e,n){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i=n(6),r=n(7),s=n(8);t.exports={Widget:o,Input:i,Layout:r,Popup:s}},function(t,e,n){"use strict";function o(){m.send({name:e.QUEUE_EVENTS.ON_RESIZE,data:{}})}function i(t){var e=t;return e?e.type&&e.type.__wgtmgc:!1}function r(t){var e=t;return e?e.props:void 0}function s(t){var e=t.scrollWidth-t.offsetWidth;return 0>=e?0:e}function p(t){var e=t.scrollHeight-t.offsetHeight;return 0>=e?0:e}function u(t){var e=window.getComputedStyle(t),n=t.getBoundingClientRect(),o=n.width-a(e.paddingLeft)-a(e.paddingRight)-a(e.borderLeftWidth)-a(e.borderRightWidth);return o}function c(t){var e=window.getComputedStyle(t),n=t.getBoundingClientRect(),o=n.height-a(e.paddingTop)-a(e.paddingBottom)-a(e.borderTopWidth)-a(e.borderBottomWidth);return o}function l(t){var e=window.getComputedStyle(t),n=t.getBoundingClientRect();return n.width+a(e.marginLeft)+a(e.marginRight)}function d(t){var e=window.getComputedStyle(t),n=t.getBoundingClientRect();return n.height+a(e.marginTop)+a(e.marginBottom)}function a(t){return"string"==typeof t?Number(t.replace("px","")):"number"==typeof t?t:0}var h=function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=n(2),y=n(3),g=n(4),v=n(5);e.QUEUE_EVENTS={ON_RESIZE:"onResize"};var m,w="wkWidgetQueue";e.sendWidgetResize=o,"undefined"!=typeof window&&(window[w]?m=window[w]:(window[w]=m=new v.SimpleQueue,g(window).bind("resize",o))),function(t){t[t.top=1]="top",t[t.middle=2]="middle",t[t.bottom=3]="bottom"}(e.VPos||(e.VPos={}));e.VPos;!function(t){t[t.left=1]="left",t[t.center=2]="center",t[t.right=3]="right"}(e.HPos||(e.HPos={}));e.HPos;!function(t){t[t.vertical=1]="vertical",t[t.horizontal=2]="horizontal"}(e.Orient||(e.Orient={}));e.Orient;!function(t){t[t.fade=1]="fade",t[t.slide=2]="slide",t[t.slideWidth=3]="slideWidth"}(e.AniEffect||(e.AniEffect={}));var S=e.AniEffect;e.DEFAULT_ANIMATION_DURATION=300;var b=function(){function t(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this.selection=[],this.selectedSet={},e.forEach(function(e){t.add(e)})}return t.prototype.add=function(t){this.selectedSet[t]||(this.selection.push(t),this.selectedSet[t]=!0)},t.prototype.isSelected=function(t,e){return 1==this.selectedSet[t]},t.prototype.select=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=[],i={};return e.forEach(function(t){i[t]=!0}),this.selection.forEach(function(t){i[t]||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?void 0:this.selection.slice()},t}();e.IndexSelection=b;var k=function(){function t(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this.selection=[],e.forEach(function(e,n){t.add(e)})}return t.prototype.add=function(t){this.selection.some(function(e){return t===e})||this.selection.push(t)},t.prototype.isSelected=function(t,e){return this.selection.some(function(t){return e===t})},t.prototype.select=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=[];return this.selection.forEach(function(t){e.some(function(e){return e===t})||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?void 0:this.selection.slice()},t}();e.InstanceSelection=k;var P=function(){function t(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.selection=[],this.selectedSet={},this.key=t,n.forEach(function(t,n){e.add(t)})}return t.prototype.add=function(t){var e=this.key(t);this.selectedSet[e]||(this.selectedSet[e]=!0,this.selection.push(t))},t.prototype.isSelected=function(t,e){var n=this.key(e);return 1==this.selectedSet[n]},t.prototype.select=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new(t.bind.apply(t,[void 0].concat([this.key],this.selection,e)))},t.prototype.unselect=function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var i=[];n.slice();return this.selection.forEach(function(t){var o=e.key(t);n.some(function(t){return o==e.key(t)})||i.push(t)}),new(t.bind.apply(t,[void 0].concat([this.key],i)))},t.prototype.getSelection=function(){return 0==this.selection.length?void 0:this.selection.slice()},t}();e.KeySelection=P;var C=new v.ShortId("wk_","webkit"),x=function(t){function n(e){t.call(this,e),this.state={hidden:e.hidden}}return h(n,t),n.prototype.getPseudoId=function(){return this.pseudoId||(this.pseudoId=C.next()),this.pseudoId},n.prototype.registerQueue=function(){this._registedQueue||(m.add(this),this._registedQueue=!0)},n.prototype.unregisterQueue=function(){this._registedQueue&&(m.remove(this),delete this._registedQueue)},n.prototype.componentWillMount=function(){},n.prototype.componentDidMount=function(){},n.prototype.componentWillUnmount=function(){this.pseudoId&&(C.reuse(this.pseudoId),delete this.pseudoId)},n.prototype.componentWillReceiveProps=function(t){this.props.hidden!==t.hidden&&this.setState({hidden:t.hidden})},n.prototype.componentWillUpdate=function(t,e){t.animation&&this.state.hidden!==e.hidden&&(this._willAnimateHidden=!0)},n.prototype.componentDidUpdate=function(t,n){var i=this,r=!1;if(this._willAnimateHidden){var s=this.props.animation,p=g(this.getDOM()),u=s.duration?s.duration:e.DEFAULT_ANIMATION_DURATION,c=this.state.hidden,l=function(){i._willAnimateHidden=!1,o()},d=function(){o()};switch(s.effect){case S.fade:p.animate({opacity:c?"hide":"show"},{duration:u,done:l});break;case S.slide:p.animate({height:c?"hide":"show"},{duration:u,step:d,done:l});break;case S.slideWidth:p.animate({width:c?"hide":"show"},{duration:u,step:d,done:l})}c||(r=!0)}(r||this.props.hflex!==t.hflex||this.props.vflex!==t.vflex)&&o()},n.prototype.onQueueEvent=function(t){},n.prototype.sendQueueEvent=function(t,e){void 0===e&&(e={}),m.send({name:t,data:e})},n.prototype.postQueueEvent=function(t,e){void 0===e&&(e={}),m.post({name:t,data:e},5)},n.prototype.getWidgetSubSclass=function(t){return[this.getWidgetSclass(),"-",t].join("")},n.prototype.getDOM=function(){return y.findDOMNode(this)},n.prototype.getRenderType=function(){return"div"},n.prototype.getRenderSclass=function(){var t=[];return t.push(this.getWidgetSclass()),this.props.hflex&&t.push("wk-hflex"),this.props.vflex&&t.push("wk-vflex"),this.props.className&&t.push(this.props.className),t.join(" ")},n.prototype.getRenderStyle=function(){var t={};return this.props.style&&v.supplyProps(t,this.props.style),this._willAnimateHidden?this.state.hidden||(t.display="none"):this.state.hidden&&(t.display="none"),t},n.prototype.getRenderChildren=function(){return this.props.children},n.prototype.getId=function(){return this.props.id},n.prototype.show=function(){this.state.hidden&&this.setState({hidden:!1})},n.prototype.hide=function(){this.state.hidden||this.setState({hidden:!0})},n.prototype.render=function(){var t=this.props,e=this.getRenderType(),n={id:this.getId(),ref:"DOM",className:this.getRenderSclass(),style:this.getRenderStyle(),onClick:t.onClick,onDoubleClick:t.onDoubleClick,onContextMenu:t.onContextMenu};return f.createElement(e,n,this.getRenderChildren())},n.defaultProps={},n.__wgtmgc=!0,n}(f.Component);e.Widget=x;var W=function(t){function e(){t.apply(this,arguments)}return h(e,t),e.prototype.getWidgetSclass=function(){return"wkw-fonticon"},e.prototype.getRenderChildren=function(){return null},e.prototype.getRenderType=function(){return"i"},e.defaultProps=v.supplyProps({},x.defaultProps),e}(x);e.Fonticon=W;var R=function(t){function e(){t.apply(this,arguments)}return h(e,t),e.prototype.getWidgetSclass=function(){return"wkw-list"},e.prototype.getRenderSclass=function(){var e=[];return e.push(t.prototype.getRenderSclass.call(this)),this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.prototype.getRenderChildren=function(){var t=this.props,e=t.selection;if(t.model){var n=t.itemRenderer;if(!n){var o="Need itemRenderer to render model of List";throw o}var i=t.model.map(function(o,i){var r=n.key(i,o);void 0==r&&(r=i);var s=n.render(i,o),p=e?e.isSelected(i,o):!1,u=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,i,o),t.doSelect&&t.doSelect(!p,i,o)}:void 0,c=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,i,o)}:void 0,l=t.onItemContextMenu?function(e){t.onItemContextMenu(e,i,o)}:void 0;return f.createElement("li",{key:r,className:p?"wk-selected":void 0,onClick:u,onDoubleClick:c,onContentMenu:l},s)});return f.createElement("ul",null,i)}if(t.children){var i=f.Children.map(t.children,function(n,o){var i=e?e.isSelected(o,void 0):!1,r=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,o,void 0),t.doSelect&&t.doSelect(!i,o,void 0)}:void 0,s=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,o,null)}:void 0,p=t.onItemContextMenu?function(e){t.onItemContextMenu(e,o,null)}:void 0;return f.createElement("li",{className:i?"wk-selected":void 0,onClick:r,onDoubleClick:s,onContextMenu:p},n)});return f.createElement("ul",null,i)}return f.createElement("ul",null)},e.defaultProps=v.supplyProps({},x.defaultProps),e}(x);e.List=R,e.isWidgetElemnt=i,e.getWidgetProps=r,e.hasHScrollbar=s,e.hasVScrollbar=p,e.getInnerWidth=u,e.getInnerHeight=c,e.getOutterWidth=l,e.getOutterHeight=d,e.toPxNumber=a},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){"use strict";function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(e){for(var n in e)void 0==t[n]&&(t[n]=e[n])}),t}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(e){for(var n in e)t[n]=e[n]}),t}function i(t,e){var n,o,i,r,s,p;if(!e.length)return t;for(i=t.length-1,r=0,s=0;i>0;i--,r++)r%=e.length,s+=n=e.charAt(r).charCodeAt(0),o=(n+r+s)%i,p=t.charAt(o),t=t.substr(0,o)+t.charAt(i)+t.substr(o+1),t=t.substr(0,i)+p+t.substr(i+1);return t}e.supplyProps=n,e.overrideProps=o;var r=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){this.listeners.push(t)},t.prototype.remove=function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)},t.prototype.send=function(t){this.listeners.forEach(function(e){e.onQueueEvent(t)})},t.prototype.post=function(t,e){var n=this;setTimeout(function(){n.send(t)},e)},t}();e.SimpleQueue=r;var s=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e="betterthannever"),void 0===n&&(n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),this.count=0,this.reused=[],this.prefix=t,this.alphabet=i(n,e)}return t.prototype.reuse=function(t){this.reused.push(t)},t.prototype.next=function(){return this.reused.length>0?this.reused.shift():this.hash(this.count++)},t.prototype.hash=function(t){var e=[],n=this.alphabet.length;do e.unshift(this.alphabet[t%n]),t=Math.floor(t/n)-1;while(t>=0);return e.unshift(this.prefix),e.join("")},t}();e.ShortId=s},function(t,e,n){"use strict";var o=function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(2),r=n(1),s=n(5),p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.onChange=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype.getRenderSclass=function(){var e=[];return e.push(t.prototype.getRenderSclass.call(this)),this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.prototype.getInputDOM=function(){return this.refs.input},e.defaultProps=s.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Input=p;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-checkbox"},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),this.props.doCheck&&this.props.doCheck(e.target.checked,this.props.value)},e.prototype.getInputType=function(){return"checkbox"},e.prototype.getRenderChildren=function(){var t,e=this.props;t=e.id?[e.id,"_inp"].join(""):[this.getPseudoId(),"_inp"].join("");var n;e.label&&(n=i.createElement("label",{key:"l",htmlFor:t},e.label));var o=this.getInputType(),r=e.onChange||e.doCheck?this.onChange.bind(this):void 0,s="string"==typeof e.value?e.value:void 0;return[i.createElement("input",{key:"i",id:t,type:o,ref:"input",onChange:r,checked:e.checked,disabled:e.disabled,readOnly:e.readOnly,name:e.name,value:s}),n]},e.defaultProps=s.supplyProps({},p.defaultProps),e}(p);e.Checkbox=u;var c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-radiobox"},e.prototype.getInputType=function(){return"radio"},e}(u);e.Radiobox=c},function(t,e,n){"use strict";var o=function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(2),r=n(4),s=n(1),p=n(5),u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-box"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],n=this.props.valign,o=this.props.halign,i=this.props.align;return i&&i.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),n&&e.push("wk-"+s.VPos[n]),o&&e.push("wk-"+s.VPos[o]),e.join(" ")},e.defaultProps=p.supplyProps({},s.Widget.defaultProps),e}(s.Widget);e.Box=u;var c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getContentDOM=function(t){return this.refs["contentDOM"+t]},e.prototype.getRenderContentSclass=function(t,e,n){return this.getWidgetSubSclass("content")},e.prototype.getRenderContentStyle=function(t,e,n){return{}},e.prototype.getRenderChildren=function(){var t=this,e={total:i.Children.count(this.props.children)};return i.Children.map(this.props.children,function(n,o){var r,s=t.getRenderContentSclass(n,o,e),p=t.getRenderContentStyle(n,o,e);return r="string"==typeof n?i.createElement("span",null,n):n,i.createElement("div",{className:s,style:p,ref:"contentDOM"+o},r)})},e.defaultProps=p.supplyProps({},s.Widget.defaultProps),e}(s.Widget);e.Layout=c;var l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-hlayout"},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.calculateContentSize()},e.prototype.componentWillMount=function(){t.prototype.componentWillUnmount.call(this),this.registerQueue()},e.prototype.componentWillUnmount=function(){this.unregisterQueue(),t.prototype.componentWillUnmount.call(this)},e.prototype.onQueueEvent=function(t){s.QUEUE_EVENTS.ON_RESIZE==t.name&&this.calculateContentSize()},e.prototype.calculateContentSize=function(){var t=this,e=s.getInnerHeight(this.getDOM());i.Children.forEach(this.props.children,function(n,o){if(s.isWidgetElemnt(n)){var i=s.getWidgetProps(n);if(i.vflex){var p=r(t.getContentDOM(o));p.css({height:e})}}})},e.prototype.getRenderContentStyle=function(e,n,o){var i=t.prototype.getRenderContentStyle.call(this,e,n,o);if(s.isWidgetElemnt(e)){var r=s.getWidgetProps(e);r.hidden||(this.props.space&&o.anyVisible&&(i.marginLeft=this.props.space),r.hflex&&(i.flex=r.hflex,i.overflow="hidden"),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(i.marginLeft=this.props.space),o.anyVisible=!0;return i},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],n=this.props.valign,o=this.props.halign,i=this.props.align;return i&&i.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),n&&e.push("wk-"+s.VPos[n]),o&&e.push("wk-"+s.VPos[o]),e.join(" ")},e.defaultProps=p.supplyProps({},c.defaultProps),e}(c);e.Hlayout=l;var d=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-vlayout"},e.prototype.getRenderContentStyle=function(e,n,o){var i=t.prototype.getRenderContentStyle.call(this,e,n,o);if(s.isWidgetElemnt(e)){var r=s.getWidgetProps(e);r.hidden||(this.props.space&&o.anyVisible&&(i.marginTop=this.props.space),r.vflex&&(i.flex=r.vflex,i.overflow="hidden",i.display="flex",i.flexDirection="column"),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(i.marginTop=this.props.space),o.anyVisible=!0;return i},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],n=this.props.valign,o=this.props.halign,i=this.props.align;return i&&i.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),n&&e.push("wk-"+s.VPos[n]),o&&e.push("wk-"+s.VPos[o]),e.join(" ")},e.defaultProps=p.supplyProps({},c.defaultProps),e}(c);e.Vlayout=d;var a=function(t){function e(e){t.call(this,e),this.state={size:this.props.size}}return o(e,t),e.prototype.onBarMousedown=function(t){var e=this;t.preventDefault();var n,o=this.props,i=r(document),p=r(this.getDOM()),u=p.find("."+this.getWidgetSubSclass("bar"));n=o.orient==s.Orient.vertical?t.pageY-u.offset().top:t.pageX-u.offset().left;var c=function(t){t.preventDefault();var o,i=e.state,r=e.props;if(r.orient==s.Orient.vertical){var c=t.pageY-n-u.offset().top;o=(i.size?i.size:p.height())+c}else{var c=t.pageX-n-u.offset().left;o=(i.size?i.size:p.width())+c}o>0&&(!r.minSize||o>=r.minSize)&&(!r.maxSize||o<=r.maxSize)&&(e.setState({size:o}),s.sendWidgetResize())},l=function d(t){i.unbind("mousemove",c),i.unbind("mouseup",d),e.setState({resizing:!1}),s.sendWidgetResize()};i.bind("mousemove",c),i.bind("mouseup",l),this.setState({resizing:!0})},e.prototype.getWidgetSclass=function(){return"wkw-sider"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.orient==s.Orient.vertical?e.push("wk-vertical"):e.push("wk-horizontal"),e.join(" ")},e.prototype.getRenderStyle=function(){var e=this.props,n=t.prototype.getRenderStyle.call(this);return this.state.size>0&&(e.orient==s.Orient.vertical?n.height=this.state.size:n.width=this.state.size),n},e.prototype.getRenderChildren=function(){var t=[this.getWidgetSubSclass("bar")];return this.state.resizing&&t.push("wk-active"),[i.createElement(u,{key:"b",hflex:1,vflex:1},this.props.children),i.createElement("div",{key:"s",className:t.join(" "),onMouseDown:this.onBarMousedown.bind(this)})]},e.defaultProps=p.supplyProps({},s.Widget.defaultProps),e}(s.Widget);e.Sider=a},function(t,e,n){"use strict";function o(t,e,n){void 0===n&&(n={});var o={x:0,y:0},i=t.offset(),r=e.offset();if(n.targetMouseEvent){var s=n.targetMouseEvent;o.x=s.pageX-r.left+e.scrollLeft(),o.y=s.pageY-r.top+e.scrollTop()}else{o.x=i.left-r.left+e.scrollLeft(),o.y=i.top-r.top+e.scrollTop();var p=u.getOutterWidth(t[0]),c=u.getOutterHeight(t[0]);switch(n.targetHPos){case u.HPos.right:o.x+=p;break;case u.HPos.center:o.x+=p/2}switch(n.targetVPos){case u.VPos.bottom:o.y+=c;break;case u.VPos.middle:o.y+=c/2}}return o}function i(t,e,n){void 0===n&&(n={});var o=t.x,i=t.y;switch(n.selfHPos){case u.HPos.right:o-=e.width;break;case u.HPos.center:o-=e.width/2}switch(n.selfVPos){case u.VPos.bottom:i-=e.height;break;case u.VPos.middle:i-=e.height/2}return{x:o,y:i}}function r(t,e,n,o,r){void 0===r&&(r={});var s=o.width,p=o.height,d=c.overrideProps({},e);switch(r.adjust){case l.shift:d.x+n.width>s&&(d.x=s-n.width),d.y+n.height>p&&(d.y=p-n.height),d.x<0&&(d.x=0),d.y<0&&(d.y=0);break;case l.flip:var a=c.overrideProps({},r),h=0;d.x+n.width>s&&(a.selfHPos=u.HPos.right,h++),d.y+n.height>p&&(a.selfVPos=u.VPos.bottom,h++),d.x<0&&(a.selfHPos=u.HPos.left,h++),d.y<0&&(a.selfVPos=u.VPos.top,h++),h>0&&(d=i(t,n,a))}return d}var s=function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=n(4),u=n(1),c=n(5);!function(t){t[t.shift=1]="shift",t[t.flip=2]="flip"}(e.AdjustMethod||(e.AdjustMethod={}));var l=e.AdjustMethod,d=function(t){function e(e){t.call(this,e),this.dismissCount=0,this.state.hidden=void 0===e.hidden?!0:e.hidden}return s(e,t),e.prototype.getId=function(){var e=t.prototype.getId.call(this);return void 0!=e?e:this.getPseudoId()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.removeBodyListener()},e.prototype.removeBodyListener=function(){this.onBodyClick&&(p("body").unbind("click",this.onBodyClick),delete this.onBodyClick)},e.prototype.show=function(e,n){var o=this;void 0===e&&(e=void 0),void 0===n&&(n={});var i=this.props;if(this.reposition(e,n),t.prototype.show.call(this),n.dismissTimeout>0){this.dismissCount++;var r=n.dismissTimeout;i.animation&&(r+=i.animation.duration||u.DEFAULT_ANIMATION_DURATION),setTimeout(function(){o.dismissCount--,0==o.dismissCount&&o.hide()},r)}n.autoDismiss?this.onBodyClick||p("body").bind("click",this.onBodyClick=function(t){0==p(t.target).closest("#"+o.getId()).length&&o.hide()}):this.removeBodyListener()},e.prototype.reposition=function(t,e){void 0===e&&(e={});var n=(this.props,p(this.getDOM())),s=n.parent(),c={x:0,y:0};if(t){var l=p(t);c=o(l,s,e)}var d=n.is(":visible");d||n.show();var a={width:u.getOutterWidth(n[0]),height:u.getOutterHeight(n[0])};d||n.hide();var h=i(c,a,e);if(h.x+=0|e.adjustX,h.y+=0|e.adjustY,e.adjust){var f={width:s[0].scrollWidth,height:s[0].scrollHeight};h=r(c,h,a,f,e)}this.setState({left:h.x,top:h.y})},e.prototype.hide=function(){t.prototype.hide.call(this),this.removeBodyListener()},e.prototype.getWidgetSclass=function(){return"wkw-popup"},e.prototype.getRenderStyle=function(){var e=t.prototype.getRenderStyle.call(this),n=this.state;return e.top=n.top,e.left=n.left,e},e.defaultProps=c.supplyProps({},u.Widget.defaultProps),e}(u.Widget);e.Popup=d}])});