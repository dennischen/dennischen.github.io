/**
 * React WebKit - v0.0.5
 * The react web widget kit base on typescript
 * 
 * Copyright 2016 - present, Dennis Chen, All rights reserved.
 * 
 * Released under MIT license
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom"),require("jquery")):"function"==typeof define&&define.amd?define(["react","react-dom","jquery"],e):"object"==typeof exports?exports.ReactWebKit=e(require("react"),require("react-dom"),require("jquery")):t.ReactWebKit=e(t.React,t.ReactDOM,t.jQuery)}(this,function(t,e,i){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var o=i(1),n=i(8),s=i(9),r=i(10),a=i(11),l=(i(12),i(13));t.exports={Widget:o,Layout:n,Datetime:s,Input:r,Popup:a,List:l}},function(t,e,i){"use strict";function o(){S.send({name:e.QUEUE_EVENTS.ON_RESIZE,data:{}})}function n(t){var e="wk-error";if(t)switch(t){case"success":case T.success:e="wk-success";break;case"info":case T.info:e="wk-info";break;case"warning":case T.warning:e="wk-warning"}return e}function s(t,e,i){return b.isArray(i)?m.createElement.apply(m,[t,e].concat(i)):m.createElement(t,e,i)}function r(t){var e=t;return e?e.type&&e.type.__wgtmgc:!1}function a(t){var e=t;return e?e.props:void 0}function l(t){var e=t.scrollWidth-t.offsetWidth;return 0>=e?0:e}function c(t){var e=t.scrollHeight-t.offsetHeight;return 0>=e?0:e}function h(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=i.width-f(e.paddingLeft)-f(e.paddingRight)-f(e.borderLeftWidth)-f(e.borderRightWidth);return o}function p(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=i.height-f(e.paddingTop)-f(e.paddingBottom)-f(e.borderTopWidth)-f(e.borderBottomWidth);return o}function u(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect();return i.width+f(e.marginLeft)+f(e.marginRight)}function d(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect();return i.height+f(e.marginTop)+f(e.marginBottom)}function f(t){return"string"==typeof t?Number(t.replace("px","")):"number"==typeof t?t:0}function g(t){var e;e=t instanceof w?t:w(t),e.find("a, button:not(:disabled):not(.wk-aux), input:not(:disabled):not(.wk-aux)").first().focus()}var y=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},m=i(2),v=i(3),w=i(4),b=i(5),x=i(6);e.QUEUE_EVENTS={ON_RESIZE:"onResize"};var S,C="wkWidgetQueue";e.sendWidgetResize=o,"undefined"!=typeof window&&(window[C]?S=window[C]:(window[C]=S=new b.SimpleQueue,w(window).bind("resize",o))),function(t){t[t.top=1]="top",t[t.middle=2]="middle",t[t.bottom=3]="bottom"}(e.VPos||(e.VPos={}));e.VPos;!function(t){t[t.left=1]="left",t[t.center=2]="center",t[t.right=3]="right"}(e.HPos||(e.HPos={}));e.HPos;!function(t){t[t.vertical=1]="vertical",t[t.horizontal=2]="horizontal"}(e.Orient||(e.Orient={}));e.Orient;!function(t){t[t.fade=1]="fade",t[t.slide=2]="slide",t[t.slideWidth=3]="slideWidth"}(e.AniEffect||(e.AniEffect={}));var k=e.AniEffect;!function(t){t[t.success=1]="success",t[t.info=2]="info",t[t.warning=3]="warning",t[t.error=4]="error"}(e.AlertType||(e.AlertType={}));var T=e.AlertType;e.DEFAULT_ANIMATION_DURATION=300;var D=function(){function t(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];this.selection=[],this.selectedSet={},e.forEach(function(e){t.add(e)})}return t.prototype.add=function(t){this.selectedSet[t]||(this.selection.push(t),this.selectedSet[t]=!0)},t.prototype.isSelected=function(t,e){return 1==this.selectedSet[t]},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var o=[],n={};return e.forEach(function(t){n[t]=!0}),this.selection.forEach(function(t){n[t]||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.IndexSelection=D;var _=function(){function t(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];this.selection=[],e.forEach(function(e,i){t.add(e)})}return t.prototype.add=function(t){this.selection.some(function(e){return t===e})||this.selection.push(t)},t.prototype.isSelected=function(t,e){return this.selection.some(function(t){return e===t})},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var o=[];return this.selection.forEach(function(t){e.some(function(e){return e===t})||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.InstanceSelection=_;var M=function(){function t(t){for(var e=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.selection=[],this.selectedSet={},this.key=t,i.forEach(function(t,i){e.add(t)})}return t.prototype.add=function(t){var e=this.key(t);this.selectedSet[e]||(this.selectedSet[e]=!0,this.selection.push(t))},t.prototype.isSelected=function(t,e){var i=this.key(e);return 1==this.selectedSet[i]},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat([this.key],this.selection,e)))},t.prototype.unselect=function(){for(var e=this,i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];var n=[];i.slice();return this.selection.forEach(function(t){var o=e.key(t);i.some(function(t){return o==e.key(t)})||n.push(t)}),new(t.bind.apply(t,[void 0].concat([this.key],n)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.KeySelection=M;var P=new b.ShortId("wk_","webkit"),E=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getPseudoId=function(){return this.pseudoId||(this.pseudoId=P.next()),this.pseudoId},e.prototype.clearPseudoId=function(){this.pseudoId&&(P.reuse(this.pseudoId),delete this.pseudoId)},e.prototype.safeTimeout=function(t,e){var i=this;this.safeTimeoutKeeper||(this.safeTimeoutKeeper={});var o;return o=setTimeout(function(){delete i.safeTimeoutKeeper[o],t()},e),this.safeTimeoutKeeper[o]="",o},e.prototype.clearSafeTimeout=function(){if(this.safeTimeoutKeeper){for(var t in this.safeTimeoutKeeper)clearTimeout(t);delete this.safeTimeoutKeeper}},e.prototype.componentWillUnmount=function(){this.clearSafeTimeout(),this.clearPseudoId()},e}(m.Component);e.Component=E;var W={show:{delay:500},hide:{delay:100},position:{target:"mouse",my:"left bottom"},style:{classes:"qtip-bootstrap wk-tooltip"}},R={content:{button:!0},show:{when:!1,ready:!0},hide:!1,position:{my:"left center",at:"right center"},style:{classes:"qtip-bootstrap wk-alert"}},O=function(t){function i(e){t.call(this,e),this.state={visible:e.visible}}return y(i,t),i.prototype.getId=function(){return this.props.id},i.prototype.registerQueue=function(){this._registedQueue||(S.add(this),this._registedQueue=!0)},i.prototype.unregisterQueue=function(){this._registedQueue&&(S.remove(this),delete this._registedQueue)},i.prototype.componentWillMount=function(){var t=this.props;t.animation&&t.animation.eager&&(void 0==t.visible||t.visible)&&(this._willAnimate=!0,this._willAnimateVisible=!1)},i.prototype.componentDidMount=function(){var t=this.props;if(this._willAnimate&&this.doAnimate(),t.tooltip){var e=t.tooltipOption?w.extend(!0,{},W,t.tooltipOption):W;x.setTip(w(this.getDOM()),t.tooltip,e)}if(t.alert){var e=w.extend(!0,{},R,t.alertOption);e.style.classes+=" "+n(t.alertType),x.setTip(w(this.getDOM()),t.alert,e)}},i.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.tooltip&&x.removeTip(w(this.getDOM())),this.props.alert&&x.removeTip(w(this.getDOM()))},i.prototype.componentWillReceiveProps=function(t){this.props.visible!==t.visible&&this.setState({visible:t.visible})},i.prototype.componentWillUpdate=function(t,e){t.animation&&this.state.visible!=e.visible&&(this._willAnimate=!0,this._willAnimateVisible=this.state.visible)},i.prototype.componentDidUpdate=function(t,e){var i=!1,s=this.getDOM(),r=this.props;if(this._willAnimate&&(i=this.doAnimate()),(i||r.hflex!==t.hflex||r.vflex!==t.vflex)&&o(),r.tooltip!==t.tooltip&&(t.tooltip&&x.removeTip(w(s)),r.tooltip)){var a=r.tooltipOption?w.extend(!0,{},W,r.tooltipOption):W;x.setTip(w(s),r.tooltip,a)}if(r.alert!==t.alert&&(t.alert&&x.removeTip(w(s)),r.alert)){var a=w.extend(!0,{},R,r.alertOption);a.style.classes+=" "+n(r.alertType),x.setTip(w(s),r.alert,a)}},i.prototype.doAnimate=function(){var t=this,i=this.props,n=this.getDOM(),s=this.state.visible;void 0==s&&(s=!0),delete this._willAnimate,delete this._willAnimateVisible;var r=i.animation,a=w(n),l=r.duration?r.duration:e.DEFAULT_ANIMATION_DURATION,c=function(){t.afterAnimation(s),o()},h=function(){o()};switch(r.effect){case"slide":case k.slide:a.animate({height:s?"show":"hide"},{duration:l,step:h,done:c});break;case"slideWidth":case k.slideWidth:a.animate({width:s?"show":"hide"},{duration:l,step:h,done:c});break;default:case"fade":case k.fade:a.animate({opacity:s?"show":"hide"},{duration:l,done:c})}return s},i.prototype.afterAnimation=function(t){},i.prototype.show=function(){this.setState({visible:!0})},i.prototype.hide=function(){this.setState({visible:!1})},i.prototype.onQueueEvent=function(t){},i.prototype.sendQueueEvent=function(t,e){void 0===e&&(e={}),S.send({name:t,data:e})},i.prototype.postQueueEvent=function(t,e){void 0===e&&(e={}),S.post({name:t,data:e},5)},i.prototype.getWidgetSubSclass=function(t){return[this.getWidgetSclass(),"-",t].join("")},i.prototype.getDOM=function(){return v.findDOMNode(this)},i.prototype.getRenderTag=function(){return"div"},i.prototype.getRenderSclass=function(){var t=[];return t.push(this.getWidgetSclass()),this.props.hflex&&t.push("wk-hflex"),this.props.vflex&&t.push("wk-vflex"),this.props.className&&t.push(this.props.className),t.join(" ")},i.prototype.getRenderVisible=function(){return this._willAnimate?this._willAnimateVisible:void 0==this.state.visible?!0:this.state.visible},i.prototype.getRenderStyle=function(){var t={};return this.props.style&&b.supplyProps(t,this.props.style),this.getRenderVisible()||(t.display="none"),t},i.prototype.getRenderChildren=function(){return this.props.children},i.prototype.renderElementProps=function(){var t=this.props;return{id:this.getId(),ref:"DOM",className:this.getRenderSclass(),style:this.getRenderStyle(),onClick:t.onClick,onDoubleClick:t.onDoubleClick,onContextMenu:t.onContextMenu}},i.prototype.render=function(){var t=this.getRenderTag(),e=this.renderElementProps(),i=this.getRenderChildren();return s(t,e,i)},i.prototype.stating=function(){this.setState({})},i.defaultProps={},i.__wgtmgc=!0,i}(E);e.Widget=O;var j=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-fonticon"},e.prototype.getRenderChildren=function(){return null},e.prototype.getRenderTag=function(){return"i"},e.defaultProps=b.supplyProps({},O.defaultProps),e}(O);e.Fonticon=j;var I=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-button"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.renderElementProps=function(){var e=this.props,i=t.prototype.renderElementProps.call(this);return b.supplyProps(i,{disabled:e.disabled,type:e.type,form:e.form}),i},e.prototype.getRenderTag=function(){return"button"},e.defaultProps=b.supplyProps({},O.defaultProps),e}(O);e.Button=I;var A=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-anchor"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.renderElementProps=function(){var e=this.props,i=t.prototype.renderElementProps.call(this);return b.supplyProps(i,{href:e.href?e.href:"#",target:e.target}),i},e.prototype.getRenderTag=function(){return"a"},e.defaultProps=b.supplyProps({},O.defaultProps),e}(O);e.Anchor=A;var z=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-alert"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.fonticon&&t.push(m.createElement(j,{className:e.fonticon})),e.title&&t.push(m.createElement("strong",null,e.title)),e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.getRenderSclass=function(){var e=[];return e.push(t.prototype.getRenderSclass.call(this)),e.push(n(this.props.alertType)),e.join(" ")},e.defaultProps=b.supplyProps({},O.defaultProps),e}(O);e.Alert=z,e.createReactElement=s,e.isWidgetElemnt=r,e.getWidgetProps=a,e.hasHScrollbar=l,e.hasVScrollbar=c,e.getInnerWidth=h,e.getInnerHeight=p,e.getOutterWidth=u,e.getOutterHeight=d,e.toPxNumber=f,e.gainFocus=g},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){"use strict";function i(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){for(var i in e)void 0==t[i]&&(t[i]=e[i])}),t}function o(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){for(var i in e)t[i]=e[i]}),t}function n(t,e){var i,o,n,s,r,a;if(!e.length)return t;for(n=t.length-1,s=0,r=0;n>0;n--,s++)s%=e.length,r+=i=e.charAt(s).charCodeAt(0),o=(i+s+r)%n,a=t.charAt(o),t=t.substr(0,o)+t.charAt(n)+t.substr(o+1),t=t.substr(0,n)+a+t.substr(n+1);return t}function s(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!e||0==e.length)return t;for(var o=t.length,n=0,s=[],r=0;o>r;r++){var a=t.charAt(r);"{"==a&&o-1>r&&"}"==t.charAt(r+1)&&n<e.length?(s.push(e[n]),r++,n++):s.push(a)}return s.join("")}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t,e,i){if(t==e)return!0;if(!t||!e)return!1;switch(i){case p.millisecond:if(t.getMilliseconds()!=e.getMilliseconds())return!1;case p.second:if(t.getSeconds()!=e.getSeconds())return!1;case p.minute:if(t.getMinutes()!=e.getMinutes())return!1;case p.hour:if(t.getHours()!=e.getHours())return!1;case p.month:if(t.getMonth()!=e.getMonth())return!1;case p.year:return t.getFullYear()==e.getFullYear()}return t.getTime()==e.getTime()}function l(t,e,i){var o=t.getTime();switch(e){case p.year:t.setFullYear(t.getFullYear()+i);break;case p.month:var n=t.getMonth();t.setMonth(n+i);break;case p.date:t.setTime(o+i*g);break;case p.hour:t.setTime(o+i*f);break;case p.minute:t.setTime(o+i*d);break;case p.second:t.setTime(o+i*u);break;case p.millisecond:t.setTime(o+i)}return t}e.supplyProps=i,e.overrideProps=o;var c=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){this.listeners.push(t)},t.prototype.remove=function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)},t.prototype.send=function(t){this.listeners.forEach(function(e){e.onQueueEvent(t)})},t.prototype.post=function(t,e){var i=this;setTimeout(function(){i.send(t)},e)},t}();e.SimpleQueue=c;var h=function(){function t(t,e,i){void 0===t&&(t=""),void 0===e&&(e="betterthannever"),void 0===i&&(i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),this.count=0,this.reused=[],this.prefix=t,this.alphabet=n(i,e)}return t.prototype.reuse=function(t){this.reused.push(t)},t.prototype.next=function(){return this.reused.length>0?this.reused.shift():this.hash(this.count++)},t.prototype.hash=function(t){var e=[],i=this.alphabet.length;do e.unshift(this.alphabet[t%i]),t=Math.floor(t/i)-1;while(t>=0);return e.unshift(this.prefix),e.join("")},t}();e.ShortId=h,e.formatString=s,e.isArray=r,function(t){t[t.year=1]="year",t[t.month=2]="month",t[t.date=3]="date",t[t.hour=4]="hour",t[t.minute=5]="minute",t[t.second=6]="second",t[t.millisecond=7]="millisecond"}(e.DateField||(e.DateField={}));var p=e.DateField,u=1e3,d=60*u,f=60*d,g=24*f;e.isDateEquals=a,e.addDateField=l},function(t,e,i){"use strict";function o(t,e,i){var o;"string"==typeof t?t=r(t):t instanceof r||(t=r(t)),o="string"==typeof e||"function"==typeof e?r.extend(!0,{content:{text:e}},l):r.extend(!0,{},l),i&&(o=r.extend(!0,o,i)),t.qtip(o)}function n(t){"string"==typeof t?t=r(t):t instanceof r||(t=r(t)),t.qtip("destroy",!0)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(4),a=i(7),l=("undefined"==typeof a?"undefined":s(a),{position:{viewport:!0,adjust:{method:"flipinvert flipinvert"}},style:{tip:{corner:!0}}});e.setTip=o,e.removeTip=n},function(t,e,i){var o,n,s,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};/*!
	 * qTip2 - Pretty powerful tooltips - v3.0.3
	 * http://qtip2.com
	 *
	 * Copyright (c) 2016 
	 * Released under the MIT licenses
	 * http://jquery.org/license
	 *
	 * Date: Mon May 16 2016 08:42 EDT-0400
	 * Plugins: tips viewport imagemap svg
	 * Styles: core basic css3
	 */
!function(a,l,c){!function(r){"use strict";n=[i(4)],o=r,s="function"==typeof o?o.apply(e,n):o,!(s!==c&&(t.exports=s))}(function(t){"use strict";function e(e,i,o,n){this.id=o,this.target=e,this.tooltip=E,this.elements={target:e},this._id=L+"-"+o,this.timers={img:{}},this.options=i,this.plugins={},this.cache={event:{},target:t(),disabled:P,attr:n,onTooltip:P,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=P}function i(e){return e===E||"object"!==t.type(e)}function o(e){return!(t.isFunction(e)||e&&e.attr||e.length||"object"===t.type(e)&&(e.jquery||e.then))}function n(e){var n,s,r,a;return i(e)?P:(i(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(n=e.content,i(n)||n.jquery||n.done?(s=o(n)?P:n,n=e.content={text:s}):s=n.text,"ajax"in n&&(r=n.ajax,a=r&&r.once!==P,delete n.ajax,n.text=function(e,i){var o=s||t(this).attr(i.options.content.attr)||"Loading...",n=t.ajax(t.extend({},r,{context:i})).then(r.success,E,r.error).then(function(t){return t&&a&&i.set("content.text",t),t},function(t,e,o){i.destroyed||0===t.status||i.set("content.text",e+": "+o)});return a?o:(i.set("content.text",o),n)}),"title"in n&&(t.isPlainObject(n.title)&&(n.button=n.title.button,n.title=n.title.text),o(n.title||P)&&(n.title=P))),"position"in e&&i(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&i(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===M?{ready:M}:{event:e.show}),"hide"in e&&i(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&i(e.style)&&(e.style={classes:e.style}),t.each(B,function(){this.sanitize&&this.sanitize(e)}),e)}function s(t,e){for(var i,o=0,n=t,s=e.split(".");n=n[s[o++]];)o<s.length&&(i=n);return[i||t,s.pop()]}function h(t,e){var i,o,n;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(o in this.checks[i])this.checks[i].hasOwnProperty(o)&&(n=new RegExp(o,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][o].apply(this.plugins[i]||this,e))}function p(t){return Y.concat("").join(t?"-"+t+" ":" ")}function u(e,i){return i>0?setTimeout(t.proxy(e,this),i):void e.call(this)}function d(t){this.tooltip.hasClass(Z)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=u.call(this,function(){this.toggle(M,t)},this.options.show.delay))}function f(e){if(!this.tooltip.hasClass(Z)&&!this.destroyed){var i=t(e.relatedTarget),o=i.closest(Q)[0]===this.tooltip[0],n=i[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==i[0]&&"mouse"===this.options.position.target&&o||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(o||n))try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}else this.timers.hide=u.call(this,function(){this.toggle(P,e)},this.options.hide.delay,this)}}function g(t){!this.tooltip.hasClass(Z)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=u.call(this,function(){this.hide(t)},this.options.hide.inactive))}function y(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(e,i,o){t(l.body).delegate(e,(i.split?i:i.join("."+L+" "))+"."+L,function(){var e=C.api[t.attr(this,H)];e&&!e.disabled&&o.apply(e,arguments)})}function v(i,o,s){var a,c,h,p,u,d=t(l.body),f=i[0]===l?d:i,g=i.metadata?i.metadata(s.metadata):E,y="html5"===s.metadata.type&&g?g[s.metadata.name]:E,m=i.data(s.metadata.name||"qtipopts");try{m="string"==typeof m?t.parseJSON(m):m}catch(v){}if(p=t.extend(M,{},C.defaults,s,"object"===("undefined"==typeof m?"undefined":r(m))?n(m):E,n(y||g)),c=p.position,p.id=o,"boolean"==typeof p.content.text){if(h=i.attr(p.content.attr),p.content.attr===P||!h)return P;p.content.text=h}if(c.container.length||(c.container=d),c.target===P&&(c.target=f),p.show.target===P&&(p.show.target=f),p.show.solo===M&&(p.show.solo=c.container.closest("body")),p.hide.target===P&&(p.hide.target=f),p.position.viewport===M&&(p.position.viewport=c.container),c.container=c.container.eq(0),c.at=new T(c.at,M),c.my=new T(c.my),i.data(L))if(p.overwrite)i.qtip("destroy",!0);else if(p.overwrite===P)return P;return i.attr(U,o),p.suppress&&(u=i.attr("title"))&&i.removeAttr("title").attr(et,u).attr("title",""),a=new e(i,p,o,!!h),i.data(L,a),a}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e){var i,o,n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+bt.join(n+" ")+n).split(" "),r=0;if(wt[e])return t.css(wt[e]);for(;i=s[r++];)if((o=t.css(i))!==c)return wt[e]=i,o}function x(t,e){return Math.ceil(parseFloat(b(t,e)))}function S(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.qtip=t,this.init(t)}var C,k,T,D,_,M=!0,P=!1,E=null,W="x",R="y",O="width",j="height",I="top",A="left",z="bottom",N="right",q="center",F="flipinvert",V="shift",B={},L="qtip",U="data-hasqtip",H="data-qtip-id",Y=["ui-widget","ui-tooltip"],Q="."+L,K="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),$=L+"-fixed",X=L+"-default",J=L+"-focus",G=L+"-hover",Z=L+"-disabled",tt="_replacedByqTip",et="oldtitle",it={ie:function(){var t,e;for(t=4,e=l.createElement("div");(e.innerHTML="<!--[if gt IE "+t+"]><i></i><![endif]-->")&&e.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||P};k=e.prototype,k._when=function(e){return t.when.apply(t,e)},k.render=function(e){if(this.rendered||this.destroyed)return this;var i=this,o=this.options,n=this.cache,s=this.elements,r=o.content.text,a=o.content.title,l=o.content.button,c=o.position,h=[];return t.attr(this.target[0],"aria-describedby",this._id),n.posClass=this._createPosClass((this.position={my:c.my,at:c.at}).my),this.tooltip=s.tooltip=t("<div/>",{id:this._id,"class":[L,X,o.style.classes,n.posClass].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":P,"aria-describedby":this._id+"-content","aria-hidden":M}).toggleClass(Z,this.disabled).attr(H,this.id).data(L,this).appendTo(c.container).append(s.content=t("<div />",{"class":L+"-content",id:this._id+"-content","aria-atomic":M})),this.rendered=-1,this.positioning=M,a&&(this._createTitle(),t.isFunction(a)||h.push(this._updateTitle(a,P))),l&&this._createButton(),t.isFunction(r)||h.push(this._updateContent(r,P)),this.rendered=M,this._setWidget(),t.each(B,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(h).then(function(){i._trigger("render"),i.positioning=P,i.hiddenDuringWait||!o.show.ready&&!e||i.toggle(M,n.event,P),i.hiddenDuringWait=P}),C.api[this.id]=this,this},k.destroy=function(e){function i(){if(!this.destroyed){this.destroyed=M;var e,i=this.target,o=i.attr(et);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),t.each(this.plugins,function(){this.destroy&&this.destroy()});for(e in this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);i.removeData(L).removeAttr(H).removeAttr(U).removeAttr("aria-describedby"),this.options.suppress&&o&&i.attr("title",o).removeAttr(et),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=E,delete C.api[this.id]}}return this.destroyed?this.target:(e===M&&"hide"!==this.triggering||!this.rendered?i.call(this):(this.tooltip.one("tooltiphidden",t.proxy(i,this)),!this.triggering&&this.hide()),this.target)},D=k.checks={builtin:{"^id$":function(e,i,o,n){var s=o===M?C.nextid:o,r=L+"-"+s;s!==P&&s.length>0&&!t("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[i]=n},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,o){this.options.content.text===this.target.attr(o)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new T(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(M)||this.toggle(M))},"^style.classes$":function(t,e,i,o){this.rendered&&this.tooltip.removeClass(o).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(X,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,i,o){this.rendered&&this.tooltip[(t.isFunction(o)?"":"un")+"bind"]("tooltip"+i,o)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},k.get=function(t){if(this.destroyed)return this;var e=s(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,nt=/^prerender|show\.ready/i;k.set=function(e,i){if(this.destroyed)return this;var o,r=this.rendered,a=P,l=this.options;return"string"==typeof e?(o=e,e={},e[o]=i):e=t.extend({},e),t.each(e,function(i,o){if(r&&nt.test(i))return void delete e[i];var n,c=s(l,i.toLowerCase());n=c[0][c[1]],c[0][c[1]]=o&&o.nodeType?t(o):o,a=ot.test(i)||a,e[i]=[c[0],c[1],o,n]}),n(l),this.positioning=M,t.each(e,t.proxy(h,this)),this.positioning=P,this.rendered&&this.tooltip[0].offsetWidth>0&&a&&this.reposition("mouse"===l.position.target?E:this.cache.event),this},k._update=function(e,i){var o=this,n=this.cache;return this.rendered&&e?(t.isFunction(e)&&(e=e.call(this.elements.target,n.event,this)||""),t.isFunction(e.then)?(n.waiting=M,e.then(function(t){return n.waiting=P,o._update(t,i)},E,function(t){return o._update(t,i)})):e===P||!e&&""!==e?P:(e.jquery&&e.length>0?i.empty().append(e.css({display:"block",visibility:"visible"})):i.html(e),this._waitForContent(i).then(function(t){o.rendered&&o.tooltip[0].offsetWidth>0&&o.reposition(n.event,!t.length)}))):P},k._waitForContent=function(e){var i=this.cache;return i.waiting=M,(t.fn.imagesLoaded?e.imagesLoaded():(new t.Deferred).resolve([])).done(function(){i.waiting=P}).promise()},k._updateContent=function(t,e){this._update(t,this.elements.content,e)},k._updateTitle=function(t,e){this._update(t,this.elements.title,e)===P&&this._removeTitle(P)},k._createTitle=function(){var e=this.elements,i=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=t("<div />",{"class":L+"-titlebar "+(this.options.style.widget?p("header"):"")}).append(e.title=t("<div />",{id:i,"class":L+"-title","aria-atomic":M})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){t(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){t(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},k._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=E,t!==P&&this.reposition())},k._createPosClass=function(t){return L+"-pos-"+(t||this.options.position.my).abbrev()},k.reposition=function(e,i){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=M;var o,n,s,r,c=this.cache,h=this.tooltip,p=this.options.position,u=p.target,d=p.my,f=p.at,g=p.viewport,y=p.container,m=p.adjust,v=m.method.split(" "),w=h.outerWidth(P),b=h.outerHeight(P),x=0,S=0,C=h.css("position"),k={left:0,top:0},T=h[0].offsetWidth>0,D=e&&"scroll"===e.type,_=t(a),E=y[0].ownerDocument,W=this.mouse;if(t.isArray(u)&&2===u.length)f={x:A,y:I},k={left:u[0],top:u[1]};else if("mouse"===u)f={x:A,y:I},(!m.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?e=c.origin:!e||e&&("resize"===e.type||"scroll"===e.type)?e=c.event:W&&W.pageX&&(e=W),"static"!==C&&(k=y.offset()),E.body.offsetWidth!==(a.innerWidth||E.documentElement.clientWidth)&&(n=t(l.body).offset()),k={left:e.pageX-k.left+(n&&n.left||0),top:e.pageY-k.top+(n&&n.top||0)},m.mouse&&D&&W&&(k.left-=(W.scrollX||0)-_.scrollLeft(),k.top-=(W.scrollY||0)-_.scrollTop());else{if("event"===u?e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?c.target=t(e.target):e.target||(c.target=this.elements.target):"event"!==u&&(c.target=t(u.jquery?u:this.elements.target)),u=c.target,u=t(u).eq(0),0===u.length)return this;u[0]===l||u[0]===a?(x=it.iOS?a.innerWidth:u.width(),S=it.iOS?a.innerHeight:u.height(),u[0]===a&&(k={top:(g||u).scrollTop(),left:(g||u).scrollLeft()})):B.imagemap&&u.is("area")?o=B.imagemap(this,u,f,B.viewport?v:P):B.svg&&u&&u[0].ownerSVGElement?o=B.svg(this,u,f,B.viewport?v:P):(x=u.outerWidth(P),S=u.outerHeight(P),k=u.offset()),o&&(x=o.width,S=o.height,n=o.offset,k=o.position),k=this.reposition.offset(u,k,y),(it.iOS>3.1&&it.iOS<4.1||it.iOS>=4.3&&it.iOS<4.33||!it.iOS&&"fixed"===C)&&(k.left-=_.scrollLeft(),k.top-=_.scrollTop()),(!o||o&&o.adjustable!==P)&&(k.left+=f.x===N?x:f.x===q?x/2:0,k.top+=f.y===z?S:f.y===q?S/2:0)}return k.left+=m.x+(d.x===N?-w:d.x===q?-w/2:0),k.top+=m.y+(d.y===z?-b:d.y===q?-b/2:0),B.viewport?(s=k.adjusted=B.viewport(this,k,p,x,S,w,b),n&&s.left&&(k.left+=n.left),n&&s.top&&(k.top+=n.top),s.my&&(this.position.my=s.my)):k.adjusted={left:0,top:0},c.posClass!==(r=this._createPosClass(this.position.my))&&(c.posClass=r,h.removeClass(c.posClass).addClass(r)),this._trigger("move",[k,g.elem||g],e)?(delete k.adjusted,i===P||!T||isNaN(k.left)||isNaN(k.top)||"mouse"===u||!t.isFunction(p.effect)?h.css(k):t.isFunction(p.effect)&&(p.effect.call(h,this,t.extend({},k)),h.queue(function(e){t(this).css({opacity:"",height:""}),it.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=P,this):this},k.reposition.offset=function(e,i,o){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var s,r,a,c,h=t(e[0].ownerDocument),p=!!it.ie&&"CSS1Compat"!==l.compatMode,u=o[0];do"static"!==(r=t.css(u,"position"))&&("fixed"===r?(a=u.getBoundingClientRect(),n(h,-1)):(a=t(u).position(),a.left+=parseFloat(t.css(u,"borderLeftWidth"))||0,a.top+=parseFloat(t.css(u,"borderTopWidth"))||0),i.left-=a.left+(parseFloat(t.css(u,"marginLeft"))||0),i.top-=a.top+(parseFloat(t.css(u,"marginTop"))||0),s||"hidden"===(c=t.css(u,"overflow"))||"visible"===c||(s=t(u)));while(u=u.offsetParent);return s&&(s[0]!==h[0]||p)&&n(s,1),i};var st=(T=k.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,q).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?R:W}).prototype;st.invert=function(t,e){this[t]=this[t]===A?N:this[t]===N?A:e||this[t]},st.string=function(t){var e=this.x,i=this.y,o=e!==i?"center"===e||"center"!==i&&(this.precedance===R||this.forceY)?[i,e]:[e,i]:[e];return t!==!1?o.join(" "):o},st.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},st.clone=function(){return new T(this.string(),this.forceY)},k.toggle=function(e,i){var o=this.cache,n=this.options,s=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&s.has(i.relatedTarget).length)return this;o.event=t.event.fix(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=M),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,c,h,p=e?"show":"hide",u=this.options[p],d=this.options.position,f=this.options.content,g=this.tooltip.css("width"),y=this.tooltip.is(":visible"),m=e||1===u.target.length,v=!i||u.target.length<2||o.target[0]===i.target;return("undefined"==typeof e?"undefined":r(e)).search("boolean|number")&&(e=!y),a=!s.is(":animated")&&y===e&&v,c=a?E:!!this._trigger(p,[90]),this.destroyed?this:(c!==P&&e&&this.focus(i),!c||a?this:(t.attr(s[0],"aria-hidden",!e),e?(this.mouse&&(o.origin=t.event.fix(this.mouse)),t.isFunction(f.text)&&this._updateContent(f.text,P),t.isFunction(f.title)&&this._updateTitle(f.title,P),!_&&"mouse"===d.target&&d.adjust.mouse&&(t(l).bind("mousemove."+L,this._storeMouse),_=M),g||s.css("width",s.outerWidth(P)),this.reposition(i,arguments[2]),g||s.css("width",""),u.solo&&("string"==typeof u.solo?t(u.solo):t(Q,u.solo)).not(s).not(u.target).qtip("hide",new t.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,_&&!t(Q+'[tracking="true"]:visible',u.solo).not(s).length&&(t(l).unbind("mousemove."+L),_=P),this.blur(i)),h=t.proxy(function(){e?(it.ie&&s[0].style.removeAttribute("filter"),s.css("overflow",""),"string"==typeof u.autofocus&&t(this.options.show.autofocus,s).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):s.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),u.effect===P||m===P?(s[p](),h()):t.isFunction(u.effect)?(s.stop(1,1),u.effect.call(s,this),s.queue("fx",function(t){h(),t()})):s.fadeTo(90,e?1:0,h),e&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},k.show=function(t){return this.toggle(M,t)},k.hide=function(t){return this.toggle(P,t)},k.focus=function(e){if(!this.rendered||this.destroyed)return this;var i=t(Q),o=this.tooltip,n=parseInt(o[0].style.zIndex,10),s=C.zindex+i.length;return o.hasClass(J)||this._trigger("focus",[s],e)&&(n!==s&&(i.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),i.filter("."+J).qtip("blur",e)),o.addClass(J)[0].style.zIndex=s),this},k.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},k.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(Z):this.disabled):"boolean"!=typeof t&&(t=M),this.rendered&&this.tooltip.toggleClass(Z,t).attr("aria-disabled",t),this.disabled=!!t,this)},k.enable=function(){return this.disable(P)},k._createButton=function(){var e=this,i=this.elements,o=i.tooltip,n=this.options.content.button,s="string"==typeof n,r=s?n:"Close tooltip";i.button&&i.button.remove(),n.jquery?i.button=n:i.button=t("<a />",{"class":"qtip-close "+(this.options.style.widget?"":L+"-icon"),title:r,"aria-label":r}).prepend(t("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),i.button.appendTo(i.titlebar||o).attr("role","button").click(function(t){return o.hasClass(Z)||e.hide(t),P})},k._updateButton=function(t){if(!this.rendered)return P;var e=this.elements.button;t?this._createButton():e.remove()},k._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,o=i.hasClass(Z);i.removeClass(Z),Z=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(Z,o),i.toggleClass("ui-helper-reset "+p(),t).toggleClass(X,this.options.style.def&&!t),e.content&&e.content.toggleClass(p("content"),t),e.titlebar&&e.titlebar.toggleClass(p("header"),t),e.button&&e.button.toggleClass(L+"-icon",!t)},k._storeMouse=function(e){return(this.mouse=t.event.fix(e)).type="mousemove",this},k._bind=function(e,i,o,n,s){if(e&&o&&i.length){var r="."+this._id+(n?"-"+n:"");return t(e).bind((i.split?i:i.join(r+" "))+r,t.proxy(o,s||this)),this}},k._unbind=function(e,i){return e&&t(e).unbind("."+this._id+(i?"-"+i:"")),this},k._trigger=function(e,i,o){var n=new t.Event("tooltip"+e);return n.originalEvent=o&&t.extend({},o)||this.cache.event||E,this.triggering=e,this.tooltip.trigger(n,[this].concat(i||[])),this.triggering=P,!n.isDefaultPrevented()},k._bindEvents=function(e,i,o,n,s,r){var a=o.filter(n).add(n.filter(o)),l=[];a.length&&(t.each(i,function(i,o){var n=t.inArray(o,e);n>-1&&l.push(e.splice(n,1)[0])}),l.length&&(this._bind(a,l,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?r:s).call(this,t)}),o=o.not(a),n=n.not(a))),this._bind(o,e,s),this._bind(n,i,r)},k._assignInitialEvents=function(e){function i(e){return this.disabled||this.destroyed?P:(this.cache.event=e&&t.event.fix(e),this.cache.target=e&&t(e.target),clearTimeout(this.timers.show),void(this.timers.show=u.call(this,function(){this.render("object"===("undefined"==typeof e?"undefined":r(e))||o.show.ready)},o.prerender?0:o.show.delay)))}var o=this.options,n=o.show.target,s=o.hide.target,a=o.show.event?t.trim(""+o.show.event).split(" "):[],l=o.hide.event?t.trim(""+o.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=M}),this._bindEvents(a,l,n,s,i,function(){return this.timers?void clearTimeout(this.timers.show):P}),(o.show.ready||o.prerender)&&i.call(this,e)},k._assignEvents=function(){var e=this,i=this.options,o=i.position,n=this.tooltip,s=i.show.target,r=i.hide.target,c=o.container,h=o.viewport,p=t(l),u=t(a),m=i.show.event?t.trim(""+i.show.event).split(" "):[],v=i.hide.event?t.trim(""+i.hide.event).split(" "):[];t.each(i.events,function(t,i){e._bind(n,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],i,null,n)}),/mouse(out|leave)/i.test(i.hide.event)&&"window"===i.hide.leave&&this._bind(p,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),i.hide.fixed?r=r.add(n.addClass($)):/mouse(over|enter)/i.test(i.show.event)&&this._bind(r,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+i.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(e){var i=t(e.target),o=this.rendered&&!this.tooltip.hasClass(Z)&&this.tooltip[0].offsetWidth>0,n=i.parents(Q).filter(this.tooltip[0]).length>0;i[0]===this.target[0]||i[0]===this.tooltip[0]||n||this.target.has(i[0]).length||!o||this.hide(e)}),"number"==typeof i.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",g,"inactive"),this._bind(r.add(n),C.inactiveEvents,g)),this._bindEvents(m,v,s,r,d,f),this._bind(s.add(n),"mousemove",function(t){if("number"==typeof i.hide.distance){var e=this.cache.origin||{},o=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=o||n(t.pageY-e.pageY)>=o)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(i.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):P}),this._bind(p,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(Z)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||h.length)&&this._bind(t.event.special.resize?h:u,"resize",y),o.adjust.scroll&&this._bind(u.add(o.container),"scroll",y)},k._unassignEvents=function(){var e=this.options,i=e.show.target,o=e.hide.target,n=t.grep([this.elements.target[0],this.rendered&&this.tooltip[0],e.position.container[0],e.position.viewport[0],e.position.container.closest("html")[0],a,l],function(t){return"object"===("undefined"==typeof t?"undefined":r(t))});i&&i.toArray&&(n=n.concat(i.toArray())),o&&o.toArray&&(n=n.concat(o.toArray())),this._unbind(n)._unbind(n,"destroy")._unbind(n,"inactive")},t(function(){m(Q,["mouseenter","mouseleave"],function(e){var i="mouseenter"===e.type,o=t(e.currentTarget),n=t(e.relatedTarget||e.target),s=this.options;i?(this.focus(e),o.hasClass($)&&!o.hasClass(Z)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!n.closest(s.show.target[0]).length&&this.hide(e),o.toggleClass(G,i)}),m("["+H+"]",K,g)}),C=t.fn.qtip=function(e,i,o){var s=(""+e).toLowerCase(),a=E,l=t.makeArray(arguments).slice(1),h=l[l.length-1],p=this[0]?t.data(this[0],L):E;return!arguments.length&&p||"api"===s?p:"string"==typeof e?(this.each(function(){var e=t.data(this,L);if(!e)return M;if(h&&h.timeStamp&&(e.cache.event=h),!i||"option"!==s&&"options"!==s)e[s]&&e[s].apply(e,l);else{if(o===c&&!t.isPlainObject(i))return a=e.get(i),P;e.set(i,o)}}),a!==E?a:this):"object"!==("undefined"==typeof e?"undefined":r(e))&&arguments.length?void 0:(p=n(t.extend(M,{},e)),this.each(function(e){var i,o;return o=t.isArray(p.id)?p.id[e]:p.id,o=!o||o===P||o.length<1||C.api[o]?C.nextid++:o,i=v(t(this),o,p),i===P?M:(C.api[o]=i,t.each(B,function(){"initialize"===this.initialize&&this(i)}),void i._assignInitialEvents(h))}))},t.qtip=e,C.api={},t.each({attr:function(e,i){if(this.length){var o=this[0],n="title",s=t.data(o,"qtip");if(e===n&&s&&s.options&&"object"===("undefined"==typeof s?"undefined":r(s))&&"object"===r(s.options)&&s.options.suppress)return arguments.length<2?t.attr(o,et):(s&&s.options.content.attr===n&&s.cache.attr&&s.set("content.text",i),this.attr(et,i))}return t.fn["attr"+tt].apply(this,arguments)},clone:function(e){var i=t.fn["clone"+tt].apply(this,arguments);return e||i.filter("["+et+"]").attr("title",function(){return t.attr(this,et)}).removeAttr(et),i}},function(e,i){if(!i||t.fn[e+tt])return M;var o=t.fn[e+tt]=t.fn[e];t.fn[e]=function(){return i.apply(this,arguments)||o.apply(this,arguments)}}),t.ui||(t["cleanData"+tt]=t.cleanData,t.cleanData=function(e){for(var i,o=0;(i=t(e[o])).length;o++)if(i.attr(U))try{i.triggerHandler("removeqtip")}catch(n){}t["cleanData"+tt].apply(this,arguments)}),C.version="3.0.3",C.nextid=0,C.inactiveEvents=K,C.zindex=15e3,C.defaults={prerender:P,id:P,overwrite:M,suppress:M,content:{text:M,attr:"title",title:P,button:P},position:{my:"top left",at:"bottom right",target:P,container:P,viewport:P,adjust:{x:0,y:0,mouse:M,scroll:M,resize:M,method:"flipinvert flipinvert"},effect:function(e,i){t(this).animate(i,{duration:200,queue:P})}},show:{target:P,event:"mouseenter",effect:M,delay:90,solo:P,ready:P,autofocus:P},hide:{target:P,event:"mouseleave",effect:M,delay:0,fixed:P,inactive:P,leave:"window",distance:P},style:{classes:"",widget:P,width:P,height:P,def:M},events:{render:E,move:E,show:E,hide:E,toggle:E,visible:E,hidden:E,focus:E,blur:E}};var rt,at,lt,ct,ht,pt="margin",ut="border",dt="color",ft="background-color",gt="transparent",yt=" !important",mt=!!l.createElement("canvas").getContext,vt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,wt={},bt=["Webkit","O","Moz","ms"];mt?(ct=a.devicePixelRatio||1,ht=function(){var t=l.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),lt=ct/ht):at=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},t.extend(S.prototype,{init:function(e){var i,o;o=this.element=e.elements.tip=t("<div />",{"class":L+"-tip"}).prependTo(e.tooltip),mt?(i=t("<canvas />").appendTo(this.element)[0].getContext("2d"),i.lineJoin="miter",i.miterLimit=1e5,i.save()):(i=at("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(i+i),e._bind(t("*",o).add(o),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===I||t.y===q&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(M))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===P||e===P?t=P:t===M?t=new T(e.string()):t.string||(t=new T(t),t.fixed=M),t},_parseWidth:function(t,e,i){var o=this.qtip.elements,n=ut+w(e)+"Width";return(i?x(i,n):x(o.content,n)||x(this._useTitle(t)&&o.titlebar||o.content,n)||x(o.tooltip,n))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ut+w(t.y)+w(t.x)+"Radius";return it.ie<9?0:x(this._useTitle(t)&&e.titlebar||e.content,i)||x(e.tooltip,i)||0},_invalidColour:function(t,e,i){var o=t.css(e);return!o||i&&o===t.css(i)||vt.test(o)?P:o},_parseColours:function(e){var i=this.qtip.elements,o=this.element.css("cssText",""),n=ut+w(e[e.precedance])+w(dt),s=this._useTitle(e)&&i.titlebar||i.content,r=this._invalidColour,a=[];return a[0]=r(o,ft)||r(s,ft)||r(i.content,ft)||r(i.tooltip,ft)||o.css(ft),a[1]=r(o,n,dt)||r(s,n,dt)||r(i.content,n,dt)||r(i.tooltip,n,dt)||i.tooltip.css(n),t("*",o).add(o).css("cssText",ft+":"+gt+yt+";"+ut+":0"+yt+";"),a},_calculateSize:function(t){var e,i,o,n=t.precedance===R,s=this.options.width,r=this.options.height,a="c"===t.abbrev(),l=(n?s:r)*(a?.5:1),c=Math.pow,h=Math.round,p=Math.sqrt(c(l,2)+c(r,2)),u=[this.border/l*p,this.border/r*p];return u[2]=Math.sqrt(c(u[0],2)-c(this.border,2)),u[3]=Math.sqrt(c(u[1],2)-c(this.border,2)),e=p+u[2]+u[3]+(a?0:u[0]),i=e/p,o=[h(i*s),h(i*r)],n?o:o.reverse()},_calculateTip:function(t,e,i){i=i||1,e=e||this.size;var o=e[0]*i,n=e[1]*i,s=Math.ceil(o/2),r=Math.ceil(n/2),a={br:[0,0,o,n,o,0],bl:[0,0,o,0,0,n],tr:[0,n,o,0,o,n],tl:[0,0,0,n,o,n],tc:[0,n,s,0,o,n],bc:[0,0,o,0,s,n],rc:[0,0,o,r,0,n],lc:[o,0,o,n,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(mt||it.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var o,n,s,r,l,c,h,p,u=this.qtip.elements,d=this.element,f=d.children(),g=this.options,y=this.size,m=g.mimic,v=Math.round;e||(e=this.qtip.cache.corner||this.corner),m===P?m=e:(m=new T(m),m.precedance=e.precedance,"inherit"===m.x?m.x=e.x:"inherit"===m.y?m.y=e.y:m.x===m.y&&(m[e.precedance]=e[e.precedance])),n=m.precedance,e.precedance===W?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(e),o[1]!==gt?(p=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>p&&!vt.test(o[1])&&(o[0]=o[1]),this.border=p=g.border!==M?g.border:p):this.border=p=0,h=this.size=this._calculateSize(e),d.css({width:h[0],height:h[1],lineHeight:h[1]+"px"}),c=e.precedance===R?[v(m.x===A?p:m.x===N?h[0]-y[0]-p:(h[0]-y[0])/2),v(m.y===I?h[1]-y[1]:0)]:[v(m.x===A?h[0]-y[0]:0),v(m.y===I?p:m.y===z?h[1]-y[1]-p:(h[1]-y[1])/2)],mt?(s=f[0].getContext("2d"),s.restore(),s.save(),s.clearRect(0,0,6e3,6e3),r=this._calculateTip(m,y,lt),l=this._calculateTip(m,this.size,lt),f.attr(O,h[0]*lt).attr(j,h[1]*lt),f.css(O,h[0]).css(j,h[1]),this._drawCoords(s,l),s.fillStyle=o[1],s.fill(),s.translate(c[0]*lt,c[1]*lt),this._drawCoords(s,r),s.fillStyle=o[0],s.fill()):(r=this._calculateTip(m),r="m"+r[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",c[2]=p&&/^(r|b)/i.test(e.string())?8===it.ie?2:1:0,f.css({coordsize:h[0]+p+" "+h[1]+p,antialias:""+(m.string().indexOf(q)>-1),left:c[0]-c[2]*Number(n===W),top:c[1]-c[2]*Number(n===R),width:h[0]+p,height:h[1]+p}).each(function(e){var i=t(this);i[i.prop?"prop":"attr"]({coordsize:h[0]+p+" "+h[1]+p,path:r,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!p&&!e)),!e&&i.html(at("stroke",'weight="'+2*p+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),a.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),i!==P&&this.calculate(e,h)},calculate:function(e,i){if(!this.enabled)return P;var o,n,s=this,r=this.qtip.elements,a=this.element,l=this.options.offset,c={};
return e=e||this.corner,o=e.precedance,i=i||this._calculateSize(e),n=[e.x,e.y],o===W&&n.reverse(),t.each(n,function(t,n){var a,h,p;n===q?(a=o===R?A:I,c[a]="50%",c[pt+"-"+a]=-Math.round(i[o===R?0:1]/2)+l):(a=s._parseWidth(e,n,r.tooltip),h=s._parseWidth(e,n,r.content),p=s._parseRadius(e),c[n]=Math.max(-s.border,t?h:l+(p>a?p:-a)))}),c[e[o]]-=i[o===W?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(t,e,i){function o(t,e,i,o,n){t===V&&l.precedance===e&&h[o]&&l[i]!==q?l.precedance=l.precedance===W?R:W:t!==V&&h[o]&&(l[e]=l[e]===q?h[o]>0?o:n:l[e]===o?n:o)}function n(t,e,o){l[t]===q?g[pt+"-"+e]=f[t]=s[pt+"-"+e]-h[e]:(r=s[o]!==c?[h[e],-s[e]]:[-h[e],s[e]],(f[t]=Math.max(r[0],r[1]))>r[0]&&(i[e]-=h[e],f[e]=P),g[s[o]!==c?o:e]=f[t])}if(this.enabled){var s,r,a=e.cache,l=this.corner.clone(),h=i.adjusted,p=e.options.position.adjust.method.split(" "),u=p[0],d=p[1]||p[0],f={left:P,top:P,x:0,y:0},g={};this.corner.fixed!==M&&(o(u,W,R,A,N),o(d,R,W,I,z),l.string()===a.corner.string()&&a.cornerTop===h.top&&a.cornerLeft===h.left||this.update(l,P)),s=this.calculate(l),s.right!==c&&(s.left=-s.right),s.bottom!==c&&(s.top=-s.bottom),s.user=this.offset,f.left=u===V&&!!h.left,f.left&&n(W,A,N),f.top=d===V&&!!h.top,f.top&&n(R,I,z),this.element.css(g).toggle(!(f.x&&f.y||l.x===q&&f.y||l.y===q&&f.x)),i.left-=s.left.charAt?s.user:u!==V||f.top||!f.left&&!f.top?s.left+this.border:0,i.top-=s.top.charAt?s.user:d!==V||f.left||!f.left&&!f.top?s.top+this.border:0,a.cornerLeft=h.left,a.cornerTop=h.top,a.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),rt=B.tip=function(t){return new S(t,t.options.style.tip)},rt.initialize="render",rt.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!==("undefined"==typeof e?"undefined":r(e))&&(e=t.style.tip={corner:e}),/string|boolean/i.test(r(e.corner))||(e.corner=M)}},D.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},t.extend(M,C.defaults,{style:{tip:{corner:M,mimic:P,width:6,height:6,border:M,offset:0}}}),B.viewport=function(t,e,i,o,n,s,r){function c(t,i,o,n,s,r,a,l,c){var h=e[s],v=b[t],w=x[t],S=o===V,C=v===s?c:v===r?-c:-c/2,k=w===s?l:w===r?-l:-l/2,T=y[s]+m[s]-(d?0:u[s]),D=T-h,_=h+c-(a===O?f:g)-T,M=C-(b.precedance===t||v===b[i]?k:0)-(w===q?l/2:0);return S?(M=(v===s?1:-1)*C,e[s]+=D>0?D:_>0?-_:0,e[s]=Math.max(-u[s]+m[s],h-M,Math.min(Math.max(-u[s]+m[s]+(a===O?f:g),h+M),e[s],"center"===v?h-C:1e9))):(n*=o===F?2:0,D>0&&(v!==s||_>0)?(e[s]-=M+n,p.invert(t,s)):_>0&&(v!==r||D>0)&&(e[s]-=(v===q?-M:M)+n,p.invert(t,r)),e[s]<y[s]&&-e[s]>_&&(e[s]=h,p=b.clone())),e[s]-h}var h,p,u,d,f,g,y,m,v=i.target,w=t.elements.tooltip,b=i.my,x=i.at,S=i.adjust,C=S.method.split(" "),k=C[0],T=C[1]||C[0],D=i.viewport,_=i.container,M={left:0,top:0};return D.jquery&&v[0]!==a&&v[0]!==l.body&&"none"!==S.method?(u=_.offset()||M,d="static"===_.css("position"),h="fixed"===w.css("position"),f=D[0]===a?D.width():D.outerWidth(P),g=D[0]===a?D.height():D.outerHeight(P),y={left:h?0:D.scrollLeft(),top:h?0:D.scrollTop()},m=D.offset()||M,"shift"===k&&"shift"===T||(p=b.clone()),M={left:"none"!==k?c(W,R,k,S.x,A,N,O,o,s):0,top:"none"!==T?c(R,W,T,S.y,I,z,j,n,r):0,my:p}):M},B.polys={polygon:function(t,e){var i,o,n,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:P},r=0,a=[],l=1,c=1,h=0,p=0;for(r=t.length;r--;)i=[parseInt(t[--r],10),parseInt(t[r+1],10)],i[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),a.push(i);if(o=s.width=Math.abs(s.position.right-s.position.left),n=s.height=Math.abs(s.position.bottom-s.position.top),"c"===e.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;o>0&&n>0&&l>0&&c>0;)for(o=Math.floor(o/2),n=Math.floor(n/2),e.x===A?l=o:e.x===N?l=s.width-o:l+=Math.floor(o/2),e.y===I?c=n:e.y===z?c=s.height-n:c+=Math.floor(n/2),r=a.length;r--&&!(a.length<2);)h=a[r][0]-s.position.left,p=a[r][1]-s.position.top,(e.x===A&&h>=l||e.x===N&&l>=h||e.x===q&&(l>h||h>s.width-l)||e.y===I&&p>=c||e.y===z&&c>=p||e.y===q&&(c>p||p>s.height-c))&&a.splice(r,1);s.position={left:a[0][0],top:a[0][1]}}return s},rect:function(t,e,i,o){return{width:Math.abs(i-t),height:Math.abs(o-e),position:{left:Math.min(t,i),top:Math.min(e,o)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,o,n){var s=B.polys._angles[n.abbrev()],r=0===s?0:i*Math.cos(s*Math.PI),a=o*Math.sin(s*Math.PI);return{width:2*i-Math.abs(r),height:2*o-Math.abs(a),position:{left:t+r,top:e+a},adjustable:P}},circle:function(t,e,i,o){return B.polys.ellipse(t,e,i,i,o)}},B.imagemap=function(e,i,o){i.jquery||(i=t(i));var n,s,r,a,l,c=(i.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),h=t('img[usemap="#'+i.parent("map").attr("name")+'"]'),p=t.trim(i.attr("coords")),u=p.replace(/,$/,"").split(",");if(!h.length)return P;if("polygon"===c)a=B.polys.polygon(u,o);else{if(!B.polys[c])return P;for(r=-1,l=u.length,s=[];++r<l;)s.push(parseInt(u[r],10));a=B.polys[c].apply(this,s.concat(o))}return n=h.offset(),n.left+=Math.ceil((h.outerWidth(P)-h.width())/2),n.top+=Math.ceil((h.outerHeight(P)-h.height())/2),a.position.left+=n.left,a.position.top+=n.top,a},B.svg=function(e,i,o){for(var n,s,r,a,c,h,p,u,d,f=i[0],g=t(f.ownerSVGElement),y=f.ownerDocument,m=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return P;switch(f.nodeName){case"ellipse":case"circle":u=B.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+m,(f.ry||f.r).baseVal.value+m,o);break;case"line":case"polygon":case"polyline":for(p=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}],u=[],h=-1,a=p.numberOfItems||p.length;++h<a;)c=p.getItem?p.getItem(h):p[h],u.push.apply(u,[c.x,c.y]);u=B.polys.polygon(u,o);break;default:u=f.getBBox(),u={width:u.width,height:u.height,position:{left:u.x,top:u.y}}}return d=u.position,g=g[0],g.createSVGPoint&&(s=f.getScreenCTM(),p=g.createSVGPoint(),p.x=d.left,p.y=d.top,r=p.matrixTransform(s),d.left=r.x,d.top=r.y),y!==l&&"mouse"!==e.position.target&&(n=t((y.defaultView||y.parentWindow).frameElement).offset(),n&&(d.left+=n.left,d.top+=n.top)),y=t(y),d.left+=y.scrollLeft(),d.top+=y.scrollTop(),u}})}(window,document)},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),s=i(4),r=i(1),a=i(5),l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-box"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Box=l;var c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getContentDOM=function(t){return this.refs["contentDOM"+t]},e.prototype.getRenderContentSclass=function(t,e,i){return this.getWidgetSubSclass("content")},e.prototype.getRenderContentStyle=function(t,e,i){return{}},e.prototype.getRenderChildren=function(){var t=this,e={total:n.Children.count(this.props.children)};return n.Children.map(this.props.children,function(i,o){var s,r=t.getRenderContentSclass(i,o,e),a=t.getRenderContentStyle(i,o,e);return s="string"==typeof i?n.createElement("span",null,i):i,n.createElement("div",{className:r,style:a,ref:"contentDOM"+o},s)})},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Layout=c;var h=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-hlayout"},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.calculateContentSize()},e.prototype.componentWillMount=function(){t.prototype.componentWillUnmount.call(this),this.registerQueue()},e.prototype.componentWillUnmount=function(){this.unregisterQueue(),t.prototype.componentWillUnmount.call(this)},e.prototype.onQueueEvent=function(t){r.QUEUE_EVENTS.ON_RESIZE==t.name&&this.calculateContentSize()},e.prototype.calculateContentSize=function(){var t=this,e=r.getInnerHeight(this.getDOM());n.Children.forEach(this.props.children,function(i,o){if(r.isWidgetElemnt(i)){var n=r.getWidgetProps(i);if(n.vflex){var a=s(t.getContentDOM(o));a.css({height:e})}}})},e.prototype.getRenderContentStyle=function(e,i,o){var n=t.prototype.getRenderContentStyle.call(this,e,i,o);if(r.isWidgetElemnt(e)){var s=r.getWidgetProps(e);(void 0==s.visible||s.visible)&&(this.props.space&&o.anyVisible&&(n.marginLeft=this.props.space),s.hflex&&(n.flex=s.hflex),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(n.marginLeft=this.props.space),o.anyVisible=!0;return n},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},c.defaultProps),e}(c);e.Hlayout=h;var p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-vlayout"},e.prototype.getRenderContentStyle=function(e,i,o){var n=t.prototype.getRenderContentStyle.call(this,e,i,o);if(r.isWidgetElemnt(e)){var s=r.getWidgetProps(e);(void 0==s.visible||s.visible)&&(this.props.space&&o.anyVisible&&(n.marginTop=this.props.space),s.vflex&&(n.flex=s.vflex,n.display="flex",n.flexDirection="column"),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(n.marginTop=this.props.space),o.anyVisible=!0;return n},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},c.defaultProps),e}(c);e.Vlayout=p;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this),"wkw-buttongroup"];return e.join(" ")},e}(h);e.Buttongroup=u;var d=function(t){function e(e){t.call(this,e),this.state={size:this.props.size}}return o(e,t),e.prototype.onBarMousedown=function(t){var e=this;t.preventDefault();var i,o=this.props,n=s(document),a=s(this.getDOM()),l=a.find("."+this.getWidgetSubSclass("bar"));i=o.orient==r.Orient.vertical?t.pageY-l.offset().top:t.pageX-l.offset().left;var c=function(t){t.preventDefault();var o,n=e.state,s=e.props;if(s.orient==r.Orient.vertical){var c=t.pageY-i-l.offset().top;o=(n.size?n.size:a.height())+c}else{var c=t.pageX-i-l.offset().left;o=(n.size?n.size:a.width())+c}o>0&&(!s.minSize||o>=s.minSize)&&(!s.maxSize||o<=s.maxSize)&&(e.setState({size:o}),r.sendWidgetResize())},h=function p(t){n.unbind("mousemove",c),n.unbind("mouseup",p),e.setState({resizing:!1}),r.sendWidgetResize()};n.bind("mousemove",c),n.bind("mouseup",h),this.setState({resizing:!0})},e.prototype.getWidgetSclass=function(){return"wkw-sider"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.orient==r.Orient.vertical?e.push("wk-vertical"):e.push("wk-horizontal"),e.join(" ")},e.prototype.getRenderStyle=function(){var e=this.props,i=t.prototype.getRenderStyle.call(this);return this.state.size>0&&(e.orient==r.Orient.vertical?i.height=this.state.size:i.width=this.state.size),i},e.prototype.getRenderChildren=function(){var t=[this.getWidgetSubSclass("bar")];return this.state.resizing&&t.push("wk-active"),[n.createElement(l,{hflex:1,vflex:1},this.props.children),n.createElement("div",{className:t.join(" "),onMouseDown:this.onBarMousedown.bind(this)})]},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Sider=d},function(t,e,i){"use strict";function o(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function n(t){return new Date(t.getFullYear(),t.getMonth(),1).getDay()}var s=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(2),a=i(4),l=i(1),c=i(1),h=i(5),p=i(8),u={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",reset:"Reset",clean:"Clean"},d=1971,f=3,g=4*f,y=3;!function(t){t[t.year=1]="year",t[t.month=2]="month",t[t.date=3]="date",t[t.time=4]="time"}(e.View||(e.View={}));var m=e.View,v=function(t){function e(e){t.call(this,e),this.state.viewingDate=e.selected?new Date(e.selected.getTime()):new Date,this.state.view=m.date}return s(e,t),e.prototype.isUncontrolled=function(){return void 0==this.props.selected},e.prototype.getSelectedDate=function(){return this.isUncontrolled()?this.state.uncontrolled:this.props.selected},e.prototype.componentWillReceiveProps=function(e){t.prototype.componentWillReceiveProps.call(this,e);var i=this.props;i.selected!=e.selected&&e.selected&&this.setState({viewingDate:new Date(e.selected.getTime())})},e.prototype.doReset=function(){var t=this.getSelectedDate();this.setState({viewingDate:t?new Date(t.getTime()):new Date,view:m.date})},e.prototype.doToday=function(){var t=this,e=this.props,i=new Date;e.doSelect&&this.props.doSelect(i),this.safeTimeout(function(){t.setState({viewingDate:i,uncontrolled:t.isUncontrolled()?i:void 0,view:m.date})},0)},e.prototype.doClean=function(){var t=this,e=this.props;e.doSelect&&this.props.doSelect(null),this.safeTimeout(function(){t.setState({uncontrolled:void 0,view:m.date})},0)},e.prototype.doYearView=function(){this.setState({view:m.year})},e.prototype.doMonthView=function(){this.setState({view:m.month})},e.prototype.doDateView=function(){this.setState({view:m.date})},e.prototype.doTimeView=function(){this.setState({view:m.time})},e.prototype.doYearSelect=function(t){var e=this.state.viewingDate;e.getFullYear()!=t&&(e=new Date(this.state.viewingDate.getTime()),e.setFullYear(t)),this.setState({view:m.month,viewingDate:e})},e.prototype.doYearShift=function(t){var e=this.state.viewingDate.getFullYear(),i=e-(e-d)%g;if(t||!(d>=i)){var o=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:h.addDateField(o,h.DateField.year,t?g:-g)})}},e.prototype.doMonthSelect=function(t){var e=this.state.viewingDate;e.getMonth()!=t&&(e=new Date(this.state.viewingDate.getTime()),e.setMonth(t)),this.setState({view:m.date,viewingDate:e})},e.prototype.doMonthShift=function(t){var e=this.state.viewingDate.getFullYear();if(t||!(d>=e)){var i=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:h.addDateField(i,h.DateField.year,t?1:-1)})}},e.prototype.doDateSelect=function(t){var e=this.props,i=new Date(this.state.viewingDate.getTime());i.setDate(t),e.doSelect&&this.props.doSelect(i),this.isUncontrolled()&&this.setState({viewingDate:i,uncontrolled:i})},e.prototype.doDateShift=function(t){var e=this.state.viewingDate.getFullYear(),i=this.state.viewingDate.getMonth();if(t||!(d>e||e==d&&0==i)){var o=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:h.addDateField(o,h.DateField.month,t?1:-1)})}},e.prototype.getWidgetSclass=function(){return"wkw-calendar"},e.prototype.getRenderChildren=function(){var t=this.props,e=this.state,i=this.getSelectedDate(),o=[];switch(e.view){case m.year:o.push(r.createElement(w,{key:"year",selectedDate:i,viewingDate:e.viewingDate,doTitleShift:this.doYearShift.bind(this),doSelect:this.doYearSelect.bind(this)}));break;case m.month:o.push(r.createElement(b,{key:"month",selectedDate:i,viewingDate:e.viewingDate,doTitleShift:this.doMonthShift.bind(this),doTitleClick:this.doYearView.bind(this),doSelect:this.doMonthSelect.bind(this)}));break;case m.date:o.push(r.createElement(x,{key:"date",selectedDate:i,viewingDate:e.viewingDate,firstDayOfWeek:t.firstDayOfWeek,doTitleShift:this.doDateShift.bind(this),doTitleClick:this.doMonthView.bind(this),doSelect:this.doDateSelect.bind(this)}));break;case m.time:}return o.push(r.createElement(p.Buttongroup,{className:this.getWidgetSubSclass("bottombar"),hflex:1,align:"center"},r.createElement(c.Button,{className:"wk-aux",onClick:this.doToday.bind(this)},u.today),r.createElement(c.Button,{className:"wk-aux",onClick:this.doClean.bind(this)},u.clean),r.createElement(c.Button,{className:"wk-aux",onClick:this.doReset.bind(this)},u.reset))),l.createReactElement(p.Box,{hflex:1,vflex:1},o)},e.prototype.getRenderStyle=function(){var e=this.props,i=t.prototype.getRenderStyle.call(this);return e.hflex||i.width||(i.width=260),e.vflex||i.height||(i.height=302),i},e.defaultProps=h.supplyProps({},l.Widget.defaultProps),e}(l.Widget);e.Calendar=v;var w=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.doSelect=function(t){this.props.doSelect(t)},e.prototype.render=function(){for(var t=this.props,e=new Date,i=e.getFullYear(),o=t.viewingDate.getFullYear(),n=o-(o-d)%g,s=t.selectedDate?t.selectedDate.getFullYear():void 0,c=h.formatString("{} - {}",n,n+g-1),u=[],y=0,m=function(t){a(t.currentTarget).addClass("wk-active")},v=function(t){a(t.currentTarget).removeClass("wk-active")},w=0;;w++){for(var b=[],x=0;f>x;x++){var C=n+w*f+x,k=[];if(C==s&&k.push("wk-selected"),C==i&&k.push("wk-today"),b.push(r.createElement("td",{className:k.join(" "),onMouseDown:m,onMouseUp:v,onMouseLeave:v,onClick:this.doSelect.bind(this,C)},C)),y++,y>=g)break}if(b.length>0&&u.push(l.createReactElement("tr",{},b)),y>=g)break}var T=l.createReactElement("tbody",{},u);return r.createElement(p.Box,{className:"wkw-calendar-yearview",hflex:1,vflex:1},r.createElement(S,{title:c,doTitleShift:t.doTitleShift}),r.createElement(p.Box,{hflex:1,vflex:1},r.createElement("table",{className:"wkw-calendar-table"},T)))},e}(l.Component),b=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.doSelect=function(t){this.props.doSelect(t)},e.prototype.render=function(){for(var t=this.props,e=new Date,i=e.getMonth(),o=e.getFullYear(),n=(t.viewingDate.getMonth(),t.viewingDate.getFullYear()),s=t.selectedDate?t.selectedDate.getMonth():void 0,c=t.selectedDate?t.selectedDate.getFullYear():void 0,d=h.formatString("{}",n),f=[],g=0,m=function(t){a(t.currentTarget).addClass("wk-active")},v=function(t){a(t.currentTarget).removeClass("wk-active")},w=0;;w++){for(var b=[],x=0;y>x;x++){var C=w*y+x,k=[];if(n==c&&C==s&&k.push("wk-selected"),n==o&&C==i&&k.push("wk-today"),b.push(r.createElement("td",{className:k.join(" "),onMouseDown:m,onMouseUp:v,onMouseLeave:v,onClick:this.doSelect.bind(this,C)},u.monthNames[C])),g++,g>=12)break}if(b.length>0&&f.push(l.createReactElement("tr",{},b)),g>=12)break}var T=l.createReactElement("tbody",{},f);return r.createElement(p.Box,{className:"wkw-calendar-monthview",hflex:1,vflex:1},r.createElement(S,{title:d,doTitleClick:t.doTitleClick,doTitleShift:t.doTitleShift}),r.createElement(p.Box,{hflex:1,vflex:1},r.createElement("table",{className:"wkw-calendar-table"},T)))},e}(l.Component),x=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.doSelect=function(t){this.props.doSelect(t)},e.prototype.render=function(){var t=this.props,e=new Date,i=e.getDate(),s=e.getMonth(),c=e.getFullYear(),d=(t.viewingDate.getDate(),t.viewingDate.getMonth()),f=t.viewingDate.getFullYear(),g=t.selectedDate?t.selectedDate.getDate():void 0,y=t.selectedDate?t.selectedDate.getFullYear():void 0,m=t.selectedDate?t.selectedDate.getMonth():void 0,v=o(t.viewingDate),w=n(t.viewingDate),b=o(h.addDateField(new Date(t.viewingDate.getTime()),h.DateField.month,-1)),x=function(t){a(t.currentTarget).addClass("wk-active")},C=function(t){a(t.currentTarget).removeClass("wk-active")},k=h.formatString("{} {}",u.longMonthNames[d],f),T=[],D=t.firstDayOfWeek?t.firstDayOfWeek:0,_=0==D?0:7-D,M=0==_?w:w-1;0>=M&&(M+=7);for(var P=[],E=0;7>E;E++){for(var W=D+E;W>=7;)W-=7;var R=E==_?"wk-sunday":void 0;P.push(r.createElement("th",{className:R},u.dayNames[W]))}T.push(l.createReactElement("tr",{},P));for(var O=0;6>O;O++){for(var j=[],E=0;7>E;E++){var I=7*O+E;I=I-M+1;var R=[];f==y&&d==m&&I==g&&R.push("wk-selected"),f==c&&d==s&&I==i&&R.push("wk-today"),E==_&&R.push("wk-sunday");var A=void 0;0>=I?(A=b+I,R.push("wk-date-prv-m")):I>v?(A=I-v,R.push("wk-date-next-m")):(R.push("wk-date"),A=I),j.push(r.createElement("td",{className:R.join(" "),onMouseDown:x,onMouseUp:C,onMouseLeave:C,onClick:this.doSelect.bind(this,I)},A))}j.length>0&&T.push(l.createReactElement("tr",{},j))}var z=l.createReactElement("tbody",{},T);return r.createElement(p.Box,{className:"wkw-calendar-dateview",hflex:1,vflex:1},r.createElement(S,{title:k,doTitleClick:t.doTitleClick,doTitleShift:t.doTitleShift}),r.createElement(p.Box,{hflex:1,vflex:1},r.createElement("table",{className:"wkw-calendar-table"},z)))},e}(l.Component),S=(function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.render=function(){return r.createElement("div",{className:"wkw-calendar-time"})},e}(l.Component),function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.render=function(){var t=this.props,e=[];return t.doTitleShift&&e.push(r.createElement("button",{className:"wk-aux",onClick:function(){t.doTitleShift(!1)}}," < ")),e.push(r.createElement(p.Box,{hflex:1,align:"center"},r.createElement("div",{className:t.doTitleClick?"wk-clickable":void 0,onClick:t.doTitleClick}," ",this.props.title))),t.doTitleShift&&e.push(r.createElement("button",{className:"wk-aux",onClick:function(){t.doTitleShift(!0)}}," > ")),l.createReactElement(p.Hlayout,{className:"wkw-calendar-titlebar",hflex:1,align:"middle"},e)},e}(l.Component))},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=Object.assign||function(t){for(var e,i=1,o=arguments.length;o>i;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},s=i(2),r=i(1),a=i(5),l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.onChange=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.prototype.getInputDOM=function(){return this.refs.input},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Input=l,function(t){t[t.text=1]="text",t[t.textarea=2]="textarea",t[t.password=3]="password"}(e.TextboxType||(e.TextboxType={}));var c=e.TextboxType,h=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-textbox"},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),this.props.doChange&&this.props.doChange(e.target.value)},e.prototype.getRenderChildren=function(){var t=this.props,e=t.onChange||t.doChange?this.onChange.bind(this):void 0,i={};(t.hflex||t.style&&t.style.width)&&(i.width="100%"),(t.vflex||t.style&&t.style.height)&&(i.height="100%");var o={ref:"input",onChange:e,disabled:t.disabled,readOnly:t.readOnly,style:i,placeholder:t.placeholder,defaultValue:t.defaultValue,name:t.name,value:t.value,maxLength:t.maxLength},r="text";switch(t.type){case"textarea":case c.textarea:return t.hflex&&t.vflex?i.resize="none":t.hflex?i.resize="vertical":t.vflex&&(i.resize="horizontal"),s.createElement("textarea",n({},o));case"password":case c.password:r="password";default:return s.createElement("input",n({type:r},o))}},e.defaultProps=a.supplyProps({},l.defaultProps),e}(l);e.Textbox=h;var p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-checkbox"},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),this.props.doCheck&&this.props.doCheck(e.target.checked,this.props.value)},e.prototype.getInputType=function(){return"checkbox"},e.prototype.getRenderChildren=function(){var t,e=this.props;t=e.id?[e.id,"_inp"].join(""):[this.getPseudoId(),"_inp"].join("");var i;e.label&&(i=s.createElement("label",{htmlFor:t},e.label));var o=this.getInputType(),n=e.onChange||e.doCheck?this.onChange.bind(this):void 0,r="string"==typeof e.value?e.value:void 0;return[s.createElement("input",{id:t,type:o,ref:"input",onChange:n,checked:e.checked,disabled:e.disabled,readOnly:e.readOnly,defaultChecked:e.defaultChecked,name:e.name,value:r}),i]},e.defaultProps=a.supplyProps({},l.defaultProps),e}(l);e.Checkbox=p;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-radiobox"},e.prototype.getInputType=function(){return"radio"},e}(p);e.Radiobox=u},function(t,e,i){"use strict";function o(t,e,i){void 0===i&&(i={});var o={x:0,y:0},n=e.offset(),s=t;if(s.target&&"pageX"in s&&"pageY"in s)o.x=s.pageX-n.left+e.scrollLeft(),o.y=s.pageY-n.top+e.scrollTop();else{var r=a(t),c=r.offset();o.x=c.left-n.left+e.scrollLeft(),o.y=c.top-n.top+e.scrollTop();var h=l.getOutterWidth(r[0]),p=l.getOutterHeight(r[0]),u=i.targetHPos?i.targetHPos:"right";switch(u){case"right":case l.HPos.right:o.x+=h;break;case"center":case l.HPos.center:o.x+=h/2}switch(u=i.targetVPos?i.targetVPos:"top"){case"bottom":case l.VPos.bottom:o.y+=p;break;case"middle":case l.VPos.middle:o.y+=p/2}}return o}function n(t,e,i){void 0===i&&(i={});var o=t.x,n=t.y,s=i.selfHPos?i.selfHPos:"left";switch(s){case"right":case l.HPos.right:o-=e.width;break;case"center":case l.HPos.center:o-=e.width/2}switch(s=i.selfVPos?i.selfVPos:"top",i.selfVPos){case"bottom":case l.VPos.bottom:n-=e.height;break;case"middle":case l.VPos.middle:n-=e.height/2}return{x:o,y:n}}function s(t,e,i,o,s){void 0===s&&(s={});var r=o.width,a=o.height,p=c.overrideProps({},e);switch(s.adjust){case"shift":case h.shift:p.x+i.width>r&&(p.x=r-i.width),p.y+i.height>a&&(p.y=a-i.height),p.x<0&&(p.x=0),p.y<0&&(p.y=0);break;case"flip":case h.flip:var u=c.overrideProps({},s),d=0;p.x+i.width>r&&(u.selfHPos=l.HPos.right,d++),p.y+i.height>a&&(u.selfVPos=l.VPos.bottom,d++),p.x<0&&(u.selfHPos=l.HPos.left,d++),p.y<0&&(u.selfVPos=l.VPos.top,d++),d>0&&(p=n(t,i,u))}return p}var r=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},a=i(4),l=i(1),c=i(5);e.zIndexStart=2e3,function(t){t[t.shift=1]="shift",t[t.flip=2]="flip"}(e.AdjustMethod||(e.AdjustMethod={}));var h=e.AdjustMethod,p=function(t){function i(e){t.call(this,e),this.dismissCount=0,void 0===this.state.visible&&(this.state.visible=!1)}return r(i,t),i.prototype.getId=function(){var e=t.prototype.getId.call(this);return void 0!=e?e:this.getPseudoId()},i.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.removeBodyListener()},i.prototype.removeBodyListener=function(){this.onBodyClick&&(a("body").unbind("click",this.onBodyClick),delete this.onBodyClick)},i.prototype.show=function(i,o){var n=this;void 0===i&&(i=void 0),void 0===o&&(o=void 0);var s=this.props,r=o?o:s.showOption?s.showOption:{};this.reposition(i,r);var c=this.getDOM(),h=a(c),p=h.parent(),u=e.zIndexStart;if(p.children().each(function(t,i){if(i!==c){var o=a(i).css("zIndex");u=isNaN(o)?Math.max(u,e.zIndexStart):Math.max(u,Number(o)+1)}}),this.setState({zIndex:u}),t.prototype.show.call(this),r.dismissTimeout>0){this.dismissCount++;var d=r.dismissTimeout;s.animation&&(d+=s.animation.duration||l.DEFAULT_ANIMATION_DURATION),this.safeTimeout(function(){n.dismissCount--,0==n.dismissCount&&n.hide()},d)}if(r.autoDismiss){if(!this.onBodyClick){var f=function(t){var e=["#"+n.getId()];r.autoDismissHolders&&e.push.apply(e,r.autoDismissHolders);var i=a(t.target);e.some(function(t){return i.closest(t).length>0})||n.hide()};a("body").bind("click",this.onBodyClick=f)}}else this.removeBodyListener()},i.prototype.reposition=function(t,e){var i=this.props,r=e?e:i.showOption?i.showOption:{},c=a(this.getDOM()),h=c.parent(),p={x:0,y:0};t&&(p=o(t,h,r));var u=c.is(":visible");u||c.show();var d={width:l.getOutterWidth(c[0]),height:l.getOutterHeight(c[0])};u||c.hide();var f=n(p,d,r);if(f.x+=0|r.adjustX,f.y+=0|r.adjustY,r.adjust){var g={width:h[0].scrollWidth,height:h[0].scrollHeight};f=s(p,f,d,g,r)}this.setState({left:f.x,top:f.y})},i.prototype.hide=function(){t.prototype.hide.call(this),this.props.animation||this.setState({zIndex:void 0}),this.removeBodyListener()},i.prototype.afterAnimation=function(e){t.prototype.afterAnimation.call(this,e),e||this.setState({zIndex:void 0})},i.prototype.getWidgetSclass=function(){return"wkw-popup"},i.prototype.getRenderStyle=function(){var e=t.prototype.getRenderStyle.call(this),i=this.state;return e.top=i.top,e.left=i.left,e.zIndex=i.zIndex,e},i.defaultProps=c.supplyProps({},l.Widget.defaultProps),i}(l.Widget);e.Popup=p},function(t,e,i){"use strict";function o(){var t=document.getElementById(u);return t||(l(document.body).append('<div id="'+u+'" />'),t=document.getElementById(u)),t}var n,s=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(2),a=i(3),l=i(4),c=i(1),h=i(5),p=i(8),u="wkModalCave",d=function(t){function e(e){t.call(this,e),this._modalStack=[],this.state.modalStack=this._modalStack}return s(e,t),e.prototype.getWidgetSclass=function(){return"wkw-modal-container"},e.prototype.putModal=function(t){var e=this._modalStack,i=e.indexOf(t);if(0>i)e.push(t);else{if(i==e.length-1)return;e.splice(i,1),e.push(t)}this.setState({modalStack:this._modalStack})},e.prototype.getModal=function(){var t=this._modalStack;return t.length>0?t[t.length-1]:void 0},e.prototype.clearModal=function(t){for(var e,i=this._modalStack,o=i.length-1;o>=0;o--)i[o]==t&&(i.splice(o,1),e=!0);e&&this.setState({modalStack:this._modalStack})},e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this);var i=(this.state,l(this.getDOM())),o=this.getModal();o&&(c.gainFocus(i),o.props.doAfterShow&&o.props.doAfterShow()),i.click(function(t){0==l(":focus").length&&l(e.refs.keyAnchor).focus()}),l(document.body).on("focusin",this.onBodyFocusin=function(t){var i=e.getModal();if(i){var o=e.getDOM();l.contains(o,t.target)||c.gainFocus(o)}}).on("keyup",this.onBodyKeyup=function(t){var i=e.getModal();if(i){var o=e.getDOM();l.contains(o,t.target)&&27==t.keyCode&&i.props.doEsc&&i.props.doEsc()}})},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.onBodyFocusin&&(l(document.body).off("focusin",this.onBodyFocusin),delete this.onBodyFocusin),this.onBodyKeyup&&(l(document.body).off("keyup",this.onBodyKeyup),delete this.onBodyKeyup)},e.prototype.componentDidUpdate=function(e,i){t.prototype.componentDidUpdate.call(this,e,i);var o=this.getModal();o&&(c.gainFocus(this.getDOM()),o.props.doAfterShow&&o.props.doAfterShow())},e.prototype.getRenderChildren=function(){var t=this.getModal();if(t){var e=t.getPseudoId(),i=[this.getWidgetSubSclass("content"),t.getWidgetSubSclass("content")].join(" "),o=c.createReactElement("div",{className:i},t.getModalRenderChildren());return r.createElement(p.Box,{key:e,hflex:1,vflex:1,align:"center middle",animation:t.props.animation
},o,r.createElement("a",{ref:"keyAnchor",href:"javascript: void(0)"}))}},e.prototype.getRenderStyle=function(){var e=t.prototype.getRenderStyle.call(this),i=this.getModal();return i||(e.display="none"),e},e.defaultProps=h.supplyProps({},c.Widget.defaultProps),e}(c.Widget);e.ModalContainer=d;var f=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var e=this.props;e.show&&this.getContainer().putModal(this)},e.prototype.componentDidUpdate=function(e,i){t.prototype.componentDidUpdate.call(this,e,i);var o=this.props,n=this.getContainer();o.show!=e.show?o.show?n.putModal(this):n.clearModal(this):o.show&&n.getModal()!=this&&n.putModal(this)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.show&&this.getContainer().clearModal(this)},e.prototype.getContainer=function(){return n||(n=a.render(r.createElement(d,null),o())),n},e.prototype.getWidgetSclass=function(){return"wkw-modal"},e.prototype.getModalRenderChildren=function(){return this.props.children},e.prototype.getRenderChildren=function(){},e.defaultProps=h.supplyProps({},c.Widget.defaultProps),e}(c.Widget);e.Modal=f;var g=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getWidgetSclass=function(){return"wkw-window"},e.prototype.getModalRenderChildren=function(){var t=this.props,e=this.getWidgetSubSclass("body"),i=this.getWidgetSubSclass("title-bar"),o=[r.createElement(p.Box,{hflex:1},t.title)];if(t.doClose){var n=[this.getWidgetSubSclass("close"),"wk-aux"].join(" ");o.push(r.createElement("button",{type:"button",className:n,onClick:this.props.doClose},"×"))}var s=c.createReactElement(p.Hlayout,{className:i,hflex:1,align:"middle"},o);return r.createElement(p.Vlayout,null,s,r.createElement("div",{className:e},this.props.children))},e.defaultProps=h.supplyProps({},f.defaultProps),e}(f);e.Window=g},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),s=i(1),r=i(5),a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-list"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.prototype.getRenderChildren=function(){var t=this.props,e=t.selection;if(t.model){var i=t.itemRenderer;if(!i){var o="Need itemRenderer to render model of List";throw o}var s=t.model.map(function(o,s){var r=i.key(s,o);void 0!=r&&null!=r||(r=s);var a=i.render(s,o),l=e?e.isSelected(s,o):!1,c=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,s,o),t.doSelect&&t.doSelect(!l,s,o)}:void 0,h=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,s,o)}:void 0,p=t.onItemContextMenu?function(e){t.onItemContextMenu(e,s,o)}:void 0;return n.createElement("li",{key:r,className:l?"wk-selected":void 0,onClick:c,onDoubleClick:h,onContentMenu:p},a)});return n.createElement("ul",null,s)}if(t.children){var s=n.Children.map(t.children,function(i,o){var s=e?e.isSelected(o,null):!1,r=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,o,null),t.doSelect&&t.doSelect(!s,o,null)}:void 0,a=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,o,null)}:void 0,l=t.onItemContextMenu?function(e){t.onItemContextMenu(e,o,null)}:void 0;return n.createElement("li",{className:s?"wk-selected":void 0,onClick:r,onDoubleClick:a,onContextMenu:l},i)});return n.createElement("ul",null,s)}return n.createElement("ul",null)},e.defaultProps=r.supplyProps({},s.Widget.defaultProps),e}(s.Widget);e.List=a}])});