/**
 * React WebKit - v0.0.5
 * The react web widget kit base on typescript
 * 
 * Copyright 2016 - present, Dennis Chen, All rights reserved.
 * 
 * Released under MIT license
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom"),require("jquery"),require("moment")):"function"==typeof define&&define.amd?define(["react","react-dom","jquery","moment"],e):"object"==typeof exports?exports.ReactWebKit=e(require("react"),require("react-dom"),require("jquery"),require("moment")):t.ReactWebKit=e(t.React,t.ReactDOM,t.jQuery,t.moment)}(this,function(t,e,i,o){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var o=i(1),n=i(8),s=i(9),r=i(10),a=i(11),l=i(12),h=i(13);t.exports={Widget:o,Layout:n,Input:a,Popup:s,Modal:r,List:l,Calendar:h}},function(t,e,i){"use strict";function o(){S.send({name:e.QUEUE_EVENTS.ON_RESIZE,data:{}})}function n(t){var e="wk-error";if(t)switch(t){case"success":case D.success:e="wk-success";break;case"info":case D.info:e="wk-info";break;case"warning":case D.warning:e="wk-warning"}return e}function s(t,e,i){return b.isArray(i)?m.createElement.apply(m,[t,e].concat(i)):m.createElement(t,e,i)}function r(t){var e=t;return e?e.type&&e.type.__wgtmgc:!1}function a(t){var e=t;return e?e.props:void 0}function l(t){var e=t.scrollWidth-t.offsetWidth;return 0>=e?0:e}function h(t){var e=t.scrollHeight-t.offsetHeight;return 0>=e?0:e}function p(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=i.width-f(e.paddingLeft)-f(e.paddingRight)-f(e.borderLeftWidth)-f(e.borderRightWidth);return o}function c(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=i.height-f(e.paddingTop)-f(e.paddingBottom)-f(e.borderTopWidth)-f(e.borderBottomWidth);return o}function u(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect();return i.width+f(e.marginLeft)+f(e.marginRight)}function d(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect();return i.height+f(e.marginTop)+f(e.marginBottom)}function f(t){return"string"==typeof t?Number(t.replace("px","")):"number"==typeof t?t:0}function g(t){var e;e=t instanceof w?t:w(t),e.find("a, button:not(:disabled):not(.wk-aux), input:not(:disabled):not(.wk-aux)").first().focus()}var y=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},m=i(2),v=i(3),w=i(4),b=i(5),x=i(6);e.QUEUE_EVENTS={ON_RESIZE:"onResize"};var S,C="wkWidgetQueue";e.sendWidgetResize=o,"undefined"!=typeof window&&(window[C]?S=window[C]:(window[C]=S=new b.SimpleQueue,w(window).bind("resize",o))),function(t){t[t.top=1]="top",t[t.middle=2]="middle",t[t.bottom=3]="bottom"}(e.VPos||(e.VPos={}));e.VPos;!function(t){t[t.left=1]="left",t[t.center=2]="center",t[t.right=3]="right"}(e.HPos||(e.HPos={}));e.HPos;!function(t){t[t.vertical=1]="vertical",t[t.horizontal=2]="horizontal"}(e.Orient||(e.Orient={}));e.Orient;!function(t){t[t.fade=1]="fade",t[t.slide=2]="slide",t[t.slideWidth=3]="slideWidth"}(e.AniEffect||(e.AniEffect={}));var k=e.AniEffect;!function(t){t[t.success=1]="success",t[t.info=2]="info",t[t.warning=3]="warning",t[t.error=4]="error"}(e.AlertType||(e.AlertType={}));var D=e.AlertType;e.DEFAULT_ANIMATION_DURATION=300;var T=function(){function t(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];this.selection=[],this.selectedSet={},e.forEach(function(e){t.add(e)})}return t.prototype.add=function(t){this.selectedSet[t]||(this.selection.push(t),this.selectedSet[t]=!0)},t.prototype.isSelected=function(t,e){return 1==this.selectedSet[t]},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var o=[],n={};return e.forEach(function(t){n[t]=!0}),this.selection.forEach(function(t){n[t]||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.IndexSelection=T;var P=function(){function t(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];this.selection=[],e.forEach(function(e,i){t.add(e)})}return t.prototype.add=function(t){this.selection.some(function(e){return t===e})||this.selection.push(t)},t.prototype.isSelected=function(t,e){return this.selection.some(function(t){return e===t})},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat(this.selection,e)))},t.prototype.unselect=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var o=[];return this.selection.forEach(function(t){e.some(function(e){return e===t})||o.push(t)}),new(t.bind.apply(t,[void 0].concat(o)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.InstanceSelection=P;var _=function(){function t(t){for(var e=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.selection=[],this.selectedSet={},this.key=t,i.forEach(function(t,i){e.add(t)})}return t.prototype.add=function(t){var e=this.key(t);this.selectedSet[e]||(this.selectedSet[e]=!0,this.selection.push(t))},t.prototype.isSelected=function(t,e){var i=this.key(e);return 1==this.selectedSet[i]},t.prototype.select=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return new(t.bind.apply(t,[void 0].concat([this.key],this.selection,e)))},t.prototype.unselect=function(){for(var e=this,i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];var n=[];i.slice();return this.selection.forEach(function(t){var o=e.key(t);i.some(function(t){return o==e.key(t)})||n.push(t)}),new(t.bind.apply(t,[void 0].concat([this.key],n)))},t.prototype.getSelection=function(){return 0==this.selection.length?null:this.selection.slice()},t}();e.KeySelection=_;var M=new b.ShortId("wk_","webkit"),E=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getPseudoId=function(){return this.pseudoId||(this.pseudoId=M.next()),this.pseudoId},e.prototype.clearPseudoId=function(){this.pseudoId&&(M.reuse(this.pseudoId),delete this.pseudoId)},e.prototype.safeTimeout=function(t,e){var i=this;this.safeTimeoutKeeper||(this.safeTimeoutKeeper={});var o;return o=setTimeout(function(){delete i.safeTimeoutKeeper[o],t()},e),this.safeTimeoutKeeper[o]="",o},e.prototype.clearSafeTimeout=function(){if(this.safeTimeoutKeeper){for(var t in this.safeTimeoutKeeper)clearTimeout(t);delete this.safeTimeoutKeeper}},e.prototype.componentWillUnmount=function(){this.clearSafeTimeout(),this.clearPseudoId(),this.unmounted=!0},e.prototype.isUnmounted=function(){return this.unmounted},e}(m.Component);e.Component=E;var W={show:{delay:500},hide:{delay:100},position:{target:"mouse",my:"left bottom"},style:{classes:"qtip-bootstrap wk-tooltip"}},R={content:{button:!0},show:{when:!1,ready:!0},hide:!1,position:{my:"left center",at:"right center"},style:{classes:"qtip-bootstrap wk-alert"}},j=function(t){function i(e){t.call(this,e),this.state={invisible:e.invisible}}return y(i,t),i.prototype.getId=function(){return this.props.id},i.prototype.registerQueue=function(){this._registedQueue||(S.add(this),this._registedQueue=!0)},i.prototype.unregisterQueue=function(){this._registedQueue&&(S.remove(this),delete this._registedQueue)},i.prototype.componentWillMount=function(){var t=this.props;t.animation&&t.animation.eager&&!t.invisible&&(this._willAnimate=!0,this._willAnimateInvisible=!0)},i.prototype.componentDidMount=function(){var t=this.props;if(this._willAnimate&&this.doAnimate(),t.tooltip){var e=t.tooltipOption?w.extend(!0,{},W,t.tooltipOption):W;x.setTip(w(this.getDOM()),t.tooltip,e)}if(t.alert){var e=w.extend(!0,{},R,t.alertOption);e.style.classes+=" "+n(t.alertType),x.setTip(w(this.getDOM()),t.alert,e)}},i.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.tooltip&&x.removeTip(w(this.getDOM())),this.props.alert&&x.removeTip(w(this.getDOM()))},i.prototype.componentWillReceiveProps=function(t){this.props.invisible!==t.invisible&&this.setState({invisible:t.invisible})},i.prototype.componentWillUpdate=function(t,e){t.animation&&this.state.invisible!=e.invisible&&(this._willAnimate=!0,this._willAnimateInvisible=this.state.invisible)},i.prototype.componentDidUpdate=function(t,e){var i=!1,s=this.getDOM(),r=this.props;if(this._willAnimate&&(i=this.doAnimate()),(i||r.hflex!==t.hflex||r.vflex!==t.vflex)&&o(),r.tooltip!==t.tooltip&&(t.tooltip&&x.removeTip(w(s)),r.tooltip)){var a=r.tooltipOption?w.extend(!0,{},W,r.tooltipOption):W;x.setTip(w(s),r.tooltip,a)}if(r.alert!==t.alert&&(t.alert&&x.removeTip(w(s)),r.alert)){var a=w.extend(!0,{},R,r.alertOption);a.style.classes+=" "+n(r.alertType),x.setTip(w(s),r.alert,a)}},i.prototype.doAnimate=function(){var t=this,i=this.props,n=this.getDOM(),s=this.state.invisible;delete this._willAnimate,delete this._willAnimateInvisible;var r=i.animation,a=w(n),l=r.duration?r.duration:e.DEFAULT_ANIMATION_DURATION,h=function(){t.isUnmounted()||(t.afterAnimation(),o())},p=function(){o()};switch(r.effect){case"slide":case k.slide:a.animate({height:s?"hide":"show"},{duration:l,step:p,done:h});break;case"slideWidth":case k.slideWidth:a.animate({width:s?"hide":"show"},{duration:l,step:p,done:h});break;default:case"fade":case k.fade:a.animate({opacity:s?"hide":"show"},{duration:l,done:h})}return!s},i.prototype.afterAnimation=function(){},i.prototype.show=function(){this.setState({invisible:!1})},i.prototype.hide=function(){this.setState({invisible:!0})},i.prototype.onQueueEvent=function(t){},i.prototype.sendQueueEvent=function(t,e){void 0===e&&(e={}),S.send({name:t,data:e})},i.prototype.postQueueEvent=function(t,e){void 0===e&&(e={}),S.post({name:t,data:e},5)},i.prototype.getWidgetSubSclass=function(t){return[this.getWidgetSclass(),"-",t].join("")},i.prototype.getDOM=function(){return v.findDOMNode(this)},i.prototype.getRenderType=function(){return"div"},i.prototype.getRenderSclass=function(){var t=[];return t.push(this.getWidgetSclass()),this.props.hflex&&t.push("wk-hflex"),this.props.vflex&&t.push("wk-vflex"),this.props.className&&t.push(this.props.className),t.join(" ")},i.prototype.getRenderInvisible=function(){return this._willAnimate?this._willAnimateInvisible:this.state.invisible},i.prototype.getRenderStyle=function(){var t={};return this.props.style&&b.supplyProps(t,this.props.style),this.getRenderInvisible()&&(t.display="none"),t},i.prototype.getRenderChildren=function(){return this.props.children},i.prototype.getRenderProps=function(){var t=this.props;return{id:this.getId(),ref:"DOM",className:this.getRenderSclass(),style:this.getRenderStyle(),onClick:t.onClick,onDoubleClick:t.onDoubleClick,onContextMenu:t.onContextMenu}},i.prototype.render=function(){var t=this.getRenderType(),e=this.getRenderProps(),i=this.getRenderChildren();return s(t,e,i)},i.prototype.stating=function(){this.setState({})},i.defaultProps={},i.__wgtmgc=!0,i}(E);e.Widget=j;var O=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-fonticon"},e.prototype.getRenderChildren=function(){return null},e.prototype.getRenderType=function(){return"i"},e.defaultProps=b.supplyProps({},j.defaultProps),e}(j);e.Fonticon=O;var I=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-button"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.getRenderProps=function(){var e=this.props,i=t.prototype.getRenderProps.call(this);return b.supplyProps(i,{disabled:e.disabled,type:e.type,form:e.form}),i},e.prototype.getRenderType=function(){return"button"},e.defaultProps=b.supplyProps({},j.defaultProps),e}(j);e.Button=I;var A=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-anchor"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.getRenderProps=function(){var e=this.props,i=t.prototype.getRenderProps.call(this);return b.supplyProps(i,{href:e.href?e.href:"#",target:e.target}),i},e.prototype.getRenderType=function(){return"a"},e.defaultProps=b.supplyProps({},j.defaultProps),e}(j);e.Anchor=A;var z=function(t){function e(){t.apply(this,arguments)}return y(e,t),e.prototype.getWidgetSclass=function(){return"wkw-alert"},e.prototype.getRenderChildren=function(){var t=[],e=this.props;return e.fonticon&&t.push(m.createElement(O,{className:e.fonticon})),e.title&&t.push(m.createElement("strong",null,e.title)),e.label&&t.push(e.label),e.children&&m.Children.forEach(e.children,function(e,i){t.push(e)}),t},e.prototype.getRenderSclass=function(){var e=[];return e.push(t.prototype.getRenderSclass.call(this)),e.push(n(this.props.alertType)),e.join(" ")},e.defaultProps=b.supplyProps({},j.defaultProps),e}(j);e.Alert=z,e.createReactElement=s,e.isWidgetElemnt=r,e.getWidgetProps=a,e.hasHScrollbar=l,e.hasVScrollbar=h,e.getInnerWidth=p,e.getInnerHeight=c,e.getOutterWidth=u,e.getOutterHeight=d,e.toPxNumber=f,e.gainFocus=g},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){"use strict";function i(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){for(var i in e)void 0==t[i]&&(t[i]=e[i])}),t}function o(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){for(var i in e)t[i]=e[i]}),t}function n(t,e){var i,o,n,s,r,a;if(!e.length)return t;for(n=t.length-1,s=0,r=0;n>0;n--,s++)s%=e.length,r+=i=e.charAt(s).charCodeAt(0),o=(i+s+r)%n,a=t.charAt(o),t=t.substr(0,o)+t.charAt(n)+t.substr(o+1),t=t.substr(0,n)+a+t.substr(n+1);return t}function s(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!e||0==e.length)return t;for(var o=t.length,n=0,s=[],r=0;o>r;r++){var a=t.charAt(r);"{"==a&&o-1>r&&"}"==t.charAt(r+1)&&n<e.length?(s.push(e[n]),r++,n++):s.push(a)}return s.join("")}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t,e,i){if(t==e)return!0;if(!t||!e)return!1;switch(i){case c.millisecond:if(t.getMilliseconds()!=e.getMilliseconds())return!1;case c.second:if(t.getSeconds()!=e.getSeconds())return!1;case c.minute:if(t.getMinutes()!=e.getMinutes())return!1;case c.hour:if(t.getHours()!=e.getHours())return!1;case c.month:if(t.getMonth()!=e.getMonth())return!1;case c.year:return t.getFullYear()==e.getFullYear()}return t.getTime()==e.getTime()}function l(t,e,i){var o=t.getTime();switch(e){case c.year:t.setFullYear(t.getFullYear()+i);break;case c.month:var n=t.getMonth();t.setMonth(n+i);break;case c.date:t.setTime(o+i*g);break;case c.hour:t.setTime(o+i*f);break;case c.minute:t.setTime(o+i*d);break;case c.second:t.setTime(o+i*u);break;case c.millisecond:t.setTime(o+i)}return t}e.supplyProps=i,e.overrideProps=o;var h=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){this.listeners.push(t)},t.prototype.remove=function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)},t.prototype.send=function(t){this.listeners.forEach(function(e){e.onQueueEvent(t)})},t.prototype.post=function(t,e){var i=this;setTimeout(function(){i.send(t)},e)},t}();e.SimpleQueue=h;var p=function(){function t(t,e,i){void 0===t&&(t=""),void 0===e&&(e="betterthannever"),void 0===i&&(i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),this.count=0,this.reused=[],this.prefix=t,this.alphabet=n(i,e)}return t.prototype.reuse=function(t){this.reused.push(t)},t.prototype.next=function(){return this.reused.length>0?this.reused.shift():this.hash(this.count++)},t.prototype.hash=function(t){var e=[],i=this.alphabet.length;do e.unshift(this.alphabet[t%i]),t=Math.floor(t/i)-1;while(t>=0);return e.unshift(this.prefix),e.join("")},t}();e.ShortId=p,e.formatString=s,e.isArray=r,function(t){t[t.year=1]="year",t[t.month=2]="month",t[t.date=3]="date",t[t.hour=4]="hour",t[t.minute=5]="minute",t[t.second=6]="second",t[t.millisecond=7]="millisecond"}(e.DateField||(e.DateField={}));var c=e.DateField,u=1e3,d=60*u,f=60*d,g=24*f;e.isDateEquals=a,e.addDateField=l},function(t,e,i){"use strict";function o(t,e,i){var o;"string"==typeof t?t=r(t):t instanceof r||(t=r(t)),o="string"==typeof e||"function"==typeof e?r.extend(!0,{content:{text:e}},l):r.extend(!0,{},l),i&&(o=r.extend(!0,o,i)),t.qtip(o)}function n(t){"string"==typeof t?t=r(t):t instanceof r||(t=r(t)),t.qtip("destroy",!0)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(4),a=i(7),l=("undefined"==typeof a?"undefined":s(a),{position:{viewport:!0,adjust:{method:"flipinvert flipinvert"}},style:{tip:{corner:!0}}});e.setTip=o,e.removeTip=n},function(t,e,i){var o,n,s,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};/*!
	 * qTip2 - Pretty powerful tooltips - v3.0.3
	 * http://qtip2.com
	 *
	 * Copyright (c) 2016 
	 * Released under the MIT licenses
	 * http://jquery.org/license
	 *
	 * Date: Mon May 16 2016 08:42 EDT-0400
	 * Plugins: tips viewport imagemap svg
	 * Styles: core basic css3
	 */
!function(a,l,h){!function(r){"use strict";n=[i(4)],o=r,s="function"==typeof o?o.apply(e,n):o,!(s!==h&&(t.exports=s))}(function(t){"use strict";function e(e,i,o,n){this.id=o,this.target=e,this.tooltip=E,this.elements={target:e},this._id=U+"-"+o,this.timers={img:{}},this.options=i,this.plugins={},this.cache={event:{},target:t(),disabled:M,attr:n,onTooltip:M,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=M}function i(e){return e===E||"object"!==t.type(e)}function o(e){return!(t.isFunction(e)||e&&e.attr||e.length||"object"===t.type(e)&&(e.jquery||e.then))}function n(e){var n,s,r,a;return i(e)?M:(i(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(n=e.content,i(n)||n.jquery||n.done?(s=o(n)?M:n,n=e.content={text:s}):s=n.text,"ajax"in n&&(r=n.ajax,a=r&&r.once!==M,delete n.ajax,n.text=function(e,i){var o=s||t(this).attr(i.options.content.attr)||"Loading...",n=t.ajax(t.extend({},r,{context:i})).then(r.success,E,r.error).then(function(t){return t&&a&&i.set("content.text",t),t},function(t,e,o){i.destroyed||0===t.status||i.set("content.text",e+": "+o)});return a?o:(i.set("content.text",o),n)}),"title"in n&&(t.isPlainObject(n.title)&&(n.button=n.title.button,n.title=n.title.text),o(n.title||M)&&(n.title=M))),"position"in e&&i(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&i(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===_?{ready:_}:{event:e.show}),"hide"in e&&i(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&i(e.style)&&(e.style={classes:e.style}),t.each(B,function(){this.sanitize&&this.sanitize(e)}),e)}function s(t,e){for(var i,o=0,n=t,s=e.split(".");n=n[s[o++]];)o<s.length&&(i=n);return[i||t,s.pop()]}function p(t,e){var i,o,n;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(o in this.checks[i])this.checks[i].hasOwnProperty(o)&&(n=new RegExp(o,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][o].apply(this.plugins[i]||this,e))}function c(t){return Y.concat("").join(t?"-"+t+" ":" ")}function u(e,i){return i>0?setTimeout(t.proxy(e,this),i):void e.call(this)}function d(t){this.tooltip.hasClass(Z)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=u.call(this,function(){this.toggle(_,t)},this.options.show.delay))}function f(e){if(!this.tooltip.hasClass(Z)&&!this.destroyed){var i=t(e.relatedTarget),o=i.closest(K)[0]===this.tooltip[0],n=i[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==i[0]&&"mouse"===this.options.position.target&&o||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(o||n))try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}else this.timers.hide=u.call(this,function(){this.toggle(M,e)},this.options.hide.delay,this)}}function g(t){!this.tooltip.hasClass(Z)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=u.call(this,function(){this.hide(t)},this.options.hide.inactive))}function y(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(e,i,o){t(l.body).delegate(e,(i.split?i:i.join("."+U+" "))+"."+U,function(){var e=C.api[t.attr(this,L)];e&&!e.disabled&&o.apply(e,arguments)})}function v(i,o,s){var a,h,p,c,u,d=t(l.body),f=i[0]===l?d:i,g=i.metadata?i.metadata(s.metadata):E,y="html5"===s.metadata.type&&g?g[s.metadata.name]:E,m=i.data(s.metadata.name||"qtipopts");try{m="string"==typeof m?t.parseJSON(m):m}catch(v){}if(c=t.extend(_,{},C.defaults,s,"object"===("undefined"==typeof m?"undefined":r(m))?n(m):E,n(y||g)),h=c.position,c.id=o,"boolean"==typeof c.content.text){if(p=i.attr(c.content.attr),c.content.attr===M||!p)return M;c.content.text=p}if(h.container.length||(h.container=d),h.target===M&&(h.target=f),c.show.target===M&&(c.show.target=f),c.show.solo===_&&(c.show.solo=h.container.closest("body")),c.hide.target===M&&(c.hide.target=f),c.position.viewport===_&&(c.position.viewport=h.container),h.container=h.container.eq(0),h.at=new D(h.at,_),h.my=new D(h.my),i.data(U))if(c.overwrite)i.qtip("destroy",!0);else if(c.overwrite===M)return M;return i.attr(H,o),c.suppress&&(u=i.attr("title"))&&i.removeAttr("title").attr(et,u).attr("title",""),a=new e(i,c,o,!!p),i.data(U,a),a}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e){var i,o,n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+bt.join(n+" ")+n).split(" "),r=0;if(wt[e])return t.css(wt[e]);for(;i=s[r++];)if((o=t.css(i))!==h)return wt[e]=i,o}function x(t,e){return Math.ceil(parseFloat(b(t,e)))}function S(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.qtip=t,this.init(t)}var C,k,D,T,P,_=!0,M=!1,E=null,W="x",R="y",j="width",O="height",I="top",A="left",z="bottom",N="right",V="center",q="flipinvert",F="shift",B={},U="qtip",H="data-hasqtip",L="data-qtip-id",Y=["ui-widget","ui-tooltip"],K="."+U,Q="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),$=U+"-fixed",X=U+"-default",J=U+"-focus",G=U+"-hover",Z=U+"-disabled",tt="_replacedByqTip",et="oldtitle",it={ie:function(){var t,e;for(t=4,e=l.createElement("div");(e.innerHTML="<!--[if gt IE "+t+"]><i></i><![endif]-->")&&e.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||M};k=e.prototype,k._when=function(e){return t.when.apply(t,e)},k.render=function(e){if(this.rendered||this.destroyed)return this;var i=this,o=this.options,n=this.cache,s=this.elements,r=o.content.text,a=o.content.title,l=o.content.button,h=o.position,p=[];return t.attr(this.target[0],"aria-describedby",this._id),n.posClass=this._createPosClass((this.position={my:h.my,at:h.at}).my),this.tooltip=s.tooltip=t("<div/>",{id:this._id,"class":[U,X,o.style.classes,n.posClass].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":M,"aria-describedby":this._id+"-content","aria-hidden":_}).toggleClass(Z,this.disabled).attr(L,this.id).data(U,this).appendTo(h.container).append(s.content=t("<div />",{"class":U+"-content",id:this._id+"-content","aria-atomic":_})),this.rendered=-1,this.positioning=_,a&&(this._createTitle(),t.isFunction(a)||p.push(this._updateTitle(a,M))),l&&this._createButton(),t.isFunction(r)||p.push(this._updateContent(r,M)),this.rendered=_,this._setWidget(),t.each(B,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(p).then(function(){i._trigger("render"),i.positioning=M,i.hiddenDuringWait||!o.show.ready&&!e||i.toggle(_,n.event,M),i.hiddenDuringWait=M}),C.api[this.id]=this,this},k.destroy=function(e){function i(){if(!this.destroyed){this.destroyed=_;var e,i=this.target,o=i.attr(et);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),t.each(this.plugins,function(){this.destroy&&this.destroy()});for(e in this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);i.removeData(U).removeAttr(L).removeAttr(H).removeAttr("aria-describedby"),this.options.suppress&&o&&i.attr("title",o).removeAttr(et),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=E,delete C.api[this.id]}}return this.destroyed?this.target:(e===_&&"hide"!==this.triggering||!this.rendered?i.call(this):(this.tooltip.one("tooltiphidden",t.proxy(i,this)),!this.triggering&&this.hide()),this.target)},T=k.checks={builtin:{"^id$":function(e,i,o,n){var s=o===_?C.nextid:o,r=U+"-"+s;s!==M&&s.length>0&&!t("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[i]=n},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,o){this.options.content.text===this.target.attr(o)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new D(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(_)||this.toggle(_))},"^style.classes$":function(t,e,i,o){this.rendered&&this.tooltip.removeClass(o).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(X,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,i,o){this.rendered&&this.tooltip[(t.isFunction(o)?"":"un")+"bind"]("tooltip"+i,o)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},k.get=function(t){if(this.destroyed)return this;var e=s(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,nt=/^prerender|show\.ready/i;k.set=function(e,i){if(this.destroyed)return this;var o,r=this.rendered,a=M,l=this.options;return"string"==typeof e?(o=e,e={},e[o]=i):e=t.extend({},e),t.each(e,function(i,o){if(r&&nt.test(i))return void delete e[i];var n,h=s(l,i.toLowerCase());n=h[0][h[1]],h[0][h[1]]=o&&o.nodeType?t(o):o,a=ot.test(i)||a,e[i]=[h[0],h[1],o,n]}),n(l),this.positioning=_,t.each(e,t.proxy(p,this)),this.positioning=M,this.rendered&&this.tooltip[0].offsetWidth>0&&a&&this.reposition("mouse"===l.position.target?E:this.cache.event),this},k._update=function(e,i){var o=this,n=this.cache;return this.rendered&&e?(t.isFunction(e)&&(e=e.call(this.elements.target,n.event,this)||""),t.isFunction(e.then)?(n.waiting=_,e.then(function(t){return n.waiting=M,o._update(t,i)},E,function(t){return o._update(t,i)})):e===M||!e&&""!==e?M:(e.jquery&&e.length>0?i.empty().append(e.css({display:"block",visibility:"visible"})):i.html(e),this._waitForContent(i).then(function(t){o.rendered&&o.tooltip[0].offsetWidth>0&&o.reposition(n.event,!t.length)}))):M},k._waitForContent=function(e){var i=this.cache;return i.waiting=_,(t.fn.imagesLoaded?e.imagesLoaded():(new t.Deferred).resolve([])).done(function(){i.waiting=M}).promise()},k._updateContent=function(t,e){this._update(t,this.elements.content,e)},k._updateTitle=function(t,e){this._update(t,this.elements.title,e)===M&&this._removeTitle(M)},k._createTitle=function(){var e=this.elements,i=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=t("<div />",{"class":U+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(e.title=t("<div />",{id:i,"class":U+"-title","aria-atomic":_})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){t(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){t(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},k._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=E,t!==M&&this.reposition())},k._createPosClass=function(t){return U+"-pos-"+(t||this.options.position.my).abbrev()},k.reposition=function(e,i){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=_;var o,n,s,r,h=this.cache,p=this.tooltip,c=this.options.position,u=c.target,d=c.my,f=c.at,g=c.viewport,y=c.container,m=c.adjust,v=m.method.split(" "),w=p.outerWidth(M),b=p.outerHeight(M),x=0,S=0,C=p.css("position"),k={left:0,top:0},D=p[0].offsetWidth>0,T=e&&"scroll"===e.type,P=t(a),E=y[0].ownerDocument,W=this.mouse;if(t.isArray(u)&&2===u.length)f={x:A,y:I},k={left:u[0],top:u[1]};else if("mouse"===u)f={x:A,y:I},(!m.mouse||this.options.hide.distance)&&h.origin&&h.origin.pageX?e=h.origin:!e||e&&("resize"===e.type||"scroll"===e.type)?e=h.event:W&&W.pageX&&(e=W),"static"!==C&&(k=y.offset()),E.body.offsetWidth!==(a.innerWidth||E.documentElement.clientWidth)&&(n=t(l.body).offset()),k={left:e.pageX-k.left+(n&&n.left||0),top:e.pageY-k.top+(n&&n.top||0)},m.mouse&&T&&W&&(k.left-=(W.scrollX||0)-P.scrollLeft(),k.top-=(W.scrollY||0)-P.scrollTop());else{if("event"===u?e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?h.target=t(e.target):e.target||(h.target=this.elements.target):"event"!==u&&(h.target=t(u.jquery?u:this.elements.target)),u=h.target,u=t(u).eq(0),0===u.length)return this;u[0]===l||u[0]===a?(x=it.iOS?a.innerWidth:u.width(),S=it.iOS?a.innerHeight:u.height(),u[0]===a&&(k={top:(g||u).scrollTop(),left:(g||u).scrollLeft()})):B.imagemap&&u.is("area")?o=B.imagemap(this,u,f,B.viewport?v:M):B.svg&&u&&u[0].ownerSVGElement?o=B.svg(this,u,f,B.viewport?v:M):(x=u.outerWidth(M),S=u.outerHeight(M),k=u.offset()),o&&(x=o.width,S=o.height,n=o.offset,k=o.position),k=this.reposition.offset(u,k,y),(it.iOS>3.1&&it.iOS<4.1||it.iOS>=4.3&&it.iOS<4.33||!it.iOS&&"fixed"===C)&&(k.left-=P.scrollLeft(),k.top-=P.scrollTop()),(!o||o&&o.adjustable!==M)&&(k.left+=f.x===N?x:f.x===V?x/2:0,k.top+=f.y===z?S:f.y===V?S/2:0)}return k.left+=m.x+(d.x===N?-w:d.x===V?-w/2:0),k.top+=m.y+(d.y===z?-b:d.y===V?-b/2:0),B.viewport?(s=k.adjusted=B.viewport(this,k,c,x,S,w,b),n&&s.left&&(k.left+=n.left),n&&s.top&&(k.top+=n.top),s.my&&(this.position.my=s.my)):k.adjusted={left:0,top:0},h.posClass!==(r=this._createPosClass(this.position.my))&&(h.posClass=r,p.removeClass(h.posClass).addClass(r)),this._trigger("move",[k,g.elem||g],e)?(delete k.adjusted,i===M||!D||isNaN(k.left)||isNaN(k.top)||"mouse"===u||!t.isFunction(c.effect)?p.css(k):t.isFunction(c.effect)&&(c.effect.call(p,this,t.extend({},k)),p.queue(function(e){t(this).css({opacity:"",height:""}),it.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=M,this):this},k.reposition.offset=function(e,i,o){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var s,r,a,h,p=t(e[0].ownerDocument),c=!!it.ie&&"CSS1Compat"!==l.compatMode,u=o[0];do"static"!==(r=t.css(u,"position"))&&("fixed"===r?(a=u.getBoundingClientRect(),n(p,-1)):(a=t(u).position(),a.left+=parseFloat(t.css(u,"borderLeftWidth"))||0,a.top+=parseFloat(t.css(u,"borderTopWidth"))||0),i.left-=a.left+(parseFloat(t.css(u,"marginLeft"))||0),i.top-=a.top+(parseFloat(t.css(u,"marginTop"))||0),s||"hidden"===(h=t.css(u,"overflow"))||"visible"===h||(s=t(u)));while(u=u.offsetParent);return s&&(s[0]!==p[0]||c)&&n(s,1),i};var st=(D=k.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,V).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?R:W}).prototype;st.invert=function(t,e){this[t]=this[t]===A?N:this[t]===N?A:e||this[t]},st.string=function(t){var e=this.x,i=this.y,o=e!==i?"center"===e||"center"!==i&&(this.precedance===R||this.forceY)?[i,e]:[e,i]:[e];return t!==!1?o.join(" "):o},st.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},st.clone=function(){return new D(this.string(),this.forceY)},k.toggle=function(e,i){var o=this.cache,n=this.options,s=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&s.has(i.relatedTarget).length)return this;o.event=t.event.fix(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=_),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,h,p,c=e?"show":"hide",u=this.options[c],d=this.options.position,f=this.options.content,g=this.tooltip.css("width"),y=this.tooltip.is(":visible"),m=e||1===u.target.length,v=!i||u.target.length<2||o.target[0]===i.target;return("undefined"==typeof e?"undefined":r(e)).search("boolean|number")&&(e=!y),a=!s.is(":animated")&&y===e&&v,h=a?E:!!this._trigger(c,[90]),this.destroyed?this:(h!==M&&e&&this.focus(i),!h||a?this:(t.attr(s[0],"aria-hidden",!e),e?(this.mouse&&(o.origin=t.event.fix(this.mouse)),t.isFunction(f.text)&&this._updateContent(f.text,M),t.isFunction(f.title)&&this._updateTitle(f.title,M),!P&&"mouse"===d.target&&d.adjust.mouse&&(t(l).bind("mousemove."+U,this._storeMouse),P=_),g||s.css("width",s.outerWidth(M)),this.reposition(i,arguments[2]),g||s.css("width",""),u.solo&&("string"==typeof u.solo?t(u.solo):t(K,u.solo)).not(s).not(u.target).qtip("hide",new t.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,P&&!t(K+'[tracking="true"]:visible',u.solo).not(s).length&&(t(l).unbind("mousemove."+U),P=M),this.blur(i)),p=t.proxy(function(){e?(it.ie&&s[0].style.removeAttribute("filter"),s.css("overflow",""),"string"==typeof u.autofocus&&t(this.options.show.autofocus,s).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):s.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),u.effect===M||m===M?(s[c](),p()):t.isFunction(u.effect)?(s.stop(1,1),u.effect.call(s,this),s.queue("fx",function(t){p(),t()})):s.fadeTo(90,e?1:0,p),e&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},k.show=function(t){return this.toggle(_,t)},k.hide=function(t){return this.toggle(M,t)},k.focus=function(e){if(!this.rendered||this.destroyed)return this;var i=t(K),o=this.tooltip,n=parseInt(o[0].style.zIndex,10),s=C.zindex+i.length;return o.hasClass(J)||this._trigger("focus",[s],e)&&(n!==s&&(i.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),i.filter("."+J).qtip("blur",e)),o.addClass(J)[0].style.zIndex=s),this},k.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},k.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(Z):this.disabled):"boolean"!=typeof t&&(t=_),this.rendered&&this.tooltip.toggleClass(Z,t).attr("aria-disabled",t),this.disabled=!!t,this)},k.enable=function(){return this.disable(M)},k._createButton=function(){var e=this,i=this.elements,o=i.tooltip,n=this.options.content.button,s="string"==typeof n,r=s?n:"Close tooltip";i.button&&i.button.remove(),n.jquery?i.button=n:i.button=t("<a />",{"class":"qtip-close "+(this.options.style.widget?"":U+"-icon"),title:r,"aria-label":r}).prepend(t("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),i.button.appendTo(i.titlebar||o).attr("role","button").click(function(t){return o.hasClass(Z)||e.hide(t),M})},k._updateButton=function(t){if(!this.rendered)return M;var e=this.elements.button;t?this._createButton():e.remove()},k._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,o=i.hasClass(Z);i.removeClass(Z),Z=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(Z,o),i.toggleClass("ui-helper-reset "+c(),t).toggleClass(X,this.options.style.def&&!t),e.content&&e.content.toggleClass(c("content"),t),e.titlebar&&e.titlebar.toggleClass(c("header"),t),e.button&&e.button.toggleClass(U+"-icon",!t)},k._storeMouse=function(e){return(this.mouse=t.event.fix(e)).type="mousemove",this},k._bind=function(e,i,o,n,s){if(e&&o&&i.length){var r="."+this._id+(n?"-"+n:"");return t(e).bind((i.split?i:i.join(r+" "))+r,t.proxy(o,s||this)),this}},k._unbind=function(e,i){return e&&t(e).unbind("."+this._id+(i?"-"+i:"")),this},k._trigger=function(e,i,o){var n=new t.Event("tooltip"+e);return n.originalEvent=o&&t.extend({},o)||this.cache.event||E,this.triggering=e,this.tooltip.trigger(n,[this].concat(i||[])),this.triggering=M,!n.isDefaultPrevented()},k._bindEvents=function(e,i,o,n,s,r){var a=o.filter(n).add(n.filter(o)),l=[];a.length&&(t.each(i,function(i,o){var n=t.inArray(o,e);n>-1&&l.push(e.splice(n,1)[0])}),l.length&&(this._bind(a,l,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?r:s).call(this,t)}),o=o.not(a),n=n.not(a))),this._bind(o,e,s),this._bind(n,i,r)},k._assignInitialEvents=function(e){function i(e){return this.disabled||this.destroyed?M:(this.cache.event=e&&t.event.fix(e),this.cache.target=e&&t(e.target),clearTimeout(this.timers.show),void(this.timers.show=u.call(this,function(){this.render("object"===("undefined"==typeof e?"undefined":r(e))||o.show.ready)},o.prerender?0:o.show.delay)))}var o=this.options,n=o.show.target,s=o.hide.target,a=o.show.event?t.trim(""+o.show.event).split(" "):[],l=o.hide.event?t.trim(""+o.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=_}),this._bindEvents(a,l,n,s,i,function(){return this.timers?void clearTimeout(this.timers.show):M}),(o.show.ready||o.prerender)&&i.call(this,e)},k._assignEvents=function(){var e=this,i=this.options,o=i.position,n=this.tooltip,s=i.show.target,r=i.hide.target,h=o.container,p=o.viewport,c=t(l),u=t(a),m=i.show.event?t.trim(""+i.show.event).split(" "):[],v=i.hide.event?t.trim(""+i.hide.event).split(" "):[];t.each(i.events,function(t,i){e._bind(n,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],i,null,n)}),/mouse(out|leave)/i.test(i.hide.event)&&"window"===i.hide.leave&&this._bind(c,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),i.hide.fixed?r=r.add(n.addClass($)):/mouse(over|enter)/i.test(i.show.event)&&this._bind(r,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+i.hide.event).indexOf("unfocus")>-1&&this._bind(h.closest("html"),["mousedown","touchstart"],function(e){var i=t(e.target),o=this.rendered&&!this.tooltip.hasClass(Z)&&this.tooltip[0].offsetWidth>0,n=i.parents(K).filter(this.tooltip[0]).length>0;i[0]===this.target[0]||i[0]===this.tooltip[0]||n||this.target.has(i[0]).length||!o||this.hide(e)}),"number"==typeof i.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",g,"inactive"),this._bind(r.add(n),C.inactiveEvents,g)),this._bindEvents(m,v,s,r,d,f),this._bind(s.add(n),"mousemove",function(t){if("number"==typeof i.hide.distance){var e=this.cache.origin||{},o=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=o||n(t.pageY-e.pageY)>=o)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(i.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):M}),this._bind(c,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(Z)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||p.length)&&this._bind(t.event.special.resize?p:u,"resize",y),o.adjust.scroll&&this._bind(u.add(o.container),"scroll",y)},k._unassignEvents=function(){var e=this.options,i=e.show.target,o=e.hide.target,n=t.grep([this.elements.target[0],this.rendered&&this.tooltip[0],e.position.container[0],e.position.viewport[0],e.position.container.closest("html")[0],a,l],function(t){return"object"===("undefined"==typeof t?"undefined":r(t))});i&&i.toArray&&(n=n.concat(i.toArray())),o&&o.toArray&&(n=n.concat(o.toArray())),this._unbind(n)._unbind(n,"destroy")._unbind(n,"inactive")},t(function(){m(K,["mouseenter","mouseleave"],function(e){var i="mouseenter"===e.type,o=t(e.currentTarget),n=t(e.relatedTarget||e.target),s=this.options;i?(this.focus(e),o.hasClass($)&&!o.hasClass(Z)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!n.closest(s.show.target[0]).length&&this.hide(e),o.toggleClass(G,i)}),m("["+L+"]",Q,g)}),C=t.fn.qtip=function(e,i,o){var s=(""+e).toLowerCase(),a=E,l=t.makeArray(arguments).slice(1),p=l[l.length-1],c=this[0]?t.data(this[0],U):E;return!arguments.length&&c||"api"===s?c:"string"==typeof e?(this.each(function(){var e=t.data(this,U);if(!e)return _;if(p&&p.timeStamp&&(e.cache.event=p),!i||"option"!==s&&"options"!==s)e[s]&&e[s].apply(e,l);else{if(o===h&&!t.isPlainObject(i))return a=e.get(i),M;e.set(i,o)}}),a!==E?a:this):"object"!==("undefined"==typeof e?"undefined":r(e))&&arguments.length?void 0:(c=n(t.extend(_,{},e)),this.each(function(e){var i,o;return o=t.isArray(c.id)?c.id[e]:c.id,o=!o||o===M||o.length<1||C.api[o]?C.nextid++:o,i=v(t(this),o,c),i===M?_:(C.api[o]=i,t.each(B,function(){"initialize"===this.initialize&&this(i)}),void i._assignInitialEvents(p))}))},t.qtip=e,C.api={},t.each({attr:function(e,i){if(this.length){var o=this[0],n="title",s=t.data(o,"qtip");if(e===n&&s&&s.options&&"object"===("undefined"==typeof s?"undefined":r(s))&&"object"===r(s.options)&&s.options.suppress)return arguments.length<2?t.attr(o,et):(s&&s.options.content.attr===n&&s.cache.attr&&s.set("content.text",i),this.attr(et,i))}return t.fn["attr"+tt].apply(this,arguments)},clone:function(e){var i=t.fn["clone"+tt].apply(this,arguments);return e||i.filter("["+et+"]").attr("title",function(){return t.attr(this,et)}).removeAttr(et),i}},function(e,i){if(!i||t.fn[e+tt])return _;var o=t.fn[e+tt]=t.fn[e];t.fn[e]=function(){return i.apply(this,arguments)||o.apply(this,arguments)}}),t.ui||(t["cleanData"+tt]=t.cleanData,t.cleanData=function(e){for(var i,o=0;(i=t(e[o])).length;o++)if(i.attr(H))try{i.triggerHandler("removeqtip")}catch(n){}t["cleanData"+tt].apply(this,arguments)}),C.version="3.0.3",C.nextid=0,C.inactiveEvents=Q,C.zindex=15e3,C.defaults={prerender:M,id:M,overwrite:_,suppress:_,content:{text:_,attr:"title",title:M,button:M},position:{my:"top left",at:"bottom right",target:M,container:M,viewport:M,adjust:{x:0,y:0,mouse:_,scroll:_,resize:_,method:"flipinvert flipinvert"},effect:function(e,i){t(this).animate(i,{duration:200,queue:M})}},show:{target:M,event:"mouseenter",effect:_,delay:90,solo:M,ready:M,autofocus:M},hide:{target:M,event:"mouseleave",effect:_,delay:0,fixed:M,inactive:M,leave:"window",distance:M},style:{classes:"",widget:M,width:M,height:M,def:_},events:{render:E,move:E,show:E,hide:E,toggle:E,visible:E,hidden:E,focus:E,blur:E}};var rt,at,lt,ht,pt,ct="margin",ut="border",dt="color",ft="background-color",gt="transparent",yt=" !important",mt=!!l.createElement("canvas").getContext,vt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,wt={},bt=["Webkit","O","Moz","ms"];mt?(ht=a.devicePixelRatio||1,pt=function(){var t=l.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),lt=ht/pt):at=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},t.extend(S.prototype,{init:function(e){var i,o;o=this.element=e.elements.tip=t("<div />",{"class":U+"-tip"}).prependTo(e.tooltip),mt?(i=t("<canvas />").appendTo(this.element)[0].getContext("2d"),i.lineJoin="miter",i.miterLimit=1e5,i.save()):(i=at("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(i+i),e._bind(t("*",o).add(o),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===I||t.y===V&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(_))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===M||e===M?t=M:t===_?t=new D(e.string()):t.string||(t=new D(t),t.fixed=_),t},_parseWidth:function(t,e,i){var o=this.qtip.elements,n=ut+w(e)+"Width";return(i?x(i,n):x(o.content,n)||x(this._useTitle(t)&&o.titlebar||o.content,n)||x(o.tooltip,n))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ut+w(t.y)+w(t.x)+"Radius";return it.ie<9?0:x(this._useTitle(t)&&e.titlebar||e.content,i)||x(e.tooltip,i)||0},_invalidColour:function(t,e,i){var o=t.css(e);return!o||i&&o===t.css(i)||vt.test(o)?M:o},_parseColours:function(e){var i=this.qtip.elements,o=this.element.css("cssText",""),n=ut+w(e[e.precedance])+w(dt),s=this._useTitle(e)&&i.titlebar||i.content,r=this._invalidColour,a=[];return a[0]=r(o,ft)||r(s,ft)||r(i.content,ft)||r(i.tooltip,ft)||o.css(ft),a[1]=r(o,n,dt)||r(s,n,dt)||r(i.content,n,dt)||r(i.tooltip,n,dt)||i.tooltip.css(n),t("*",o).add(o).css("cssText",ft+":"+gt+yt+";"+ut+":0"+yt+";"),a},_calculateSize:function(t){var e,i,o,n=t.precedance===R,s=this.options.width,r=this.options.height,a="c"===t.abbrev(),l=(n?s:r)*(a?.5:1),h=Math.pow,p=Math.round,c=Math.sqrt(h(l,2)+h(r,2)),u=[this.border/l*c,this.border/r*c];return u[2]=Math.sqrt(h(u[0],2)-h(this.border,2)),u[3]=Math.sqrt(h(u[1],2)-h(this.border,2)),e=c+u[2]+u[3]+(a?0:u[0]),i=e/c,o=[p(i*s),p(i*r)],n?o:o.reverse()},_calculateTip:function(t,e,i){i=i||1,e=e||this.size;var o=e[0]*i,n=e[1]*i,s=Math.ceil(o/2),r=Math.ceil(n/2),a={br:[0,0,o,n,o,0],bl:[0,0,o,0,0,n],tr:[0,n,o,0,o,n],tl:[0,0,0,n,o,n],tc:[0,n,s,0,o,n],bc:[0,0,o,0,s,n],rc:[0,0,o,r,0,n],lc:[o,0,o,n,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(mt||it.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var o,n,s,r,l,h,p,c,u=this.qtip.elements,d=this.element,f=d.children(),g=this.options,y=this.size,m=g.mimic,v=Math.round;e||(e=this.qtip.cache.corner||this.corner),m===M?m=e:(m=new D(m),m.precedance=e.precedance,"inherit"===m.x?m.x=e.x:"inherit"===m.y?m.y=e.y:m.x===m.y&&(m[e.precedance]=e[e.precedance])),n=m.precedance,e.precedance===W?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(e),o[1]!==gt?(c=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>c&&!vt.test(o[1])&&(o[0]=o[1]),this.border=c=g.border!==_?g.border:c):this.border=c=0,p=this.size=this._calculateSize(e),d.css({width:p[0],height:p[1],lineHeight:p[1]+"px"}),h=e.precedance===R?[v(m.x===A?c:m.x===N?p[0]-y[0]-c:(p[0]-y[0])/2),v(m.y===I?p[1]-y[1]:0)]:[v(m.x===A?p[0]-y[0]:0),v(m.y===I?c:m.y===z?p[1]-y[1]-c:(p[1]-y[1])/2)],mt?(s=f[0].getContext("2d"),s.restore(),s.save(),s.clearRect(0,0,6e3,6e3),r=this._calculateTip(m,y,lt),l=this._calculateTip(m,this.size,lt),f.attr(j,p[0]*lt).attr(O,p[1]*lt),f.css(j,p[0]).css(O,p[1]),this._drawCoords(s,l),s.fillStyle=o[1],s.fill(),s.translate(h[0]*lt,h[1]*lt),this._drawCoords(s,r),s.fillStyle=o[0],s.fill()):(r=this._calculateTip(m),r="m"+r[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",h[2]=c&&/^(r|b)/i.test(e.string())?8===it.ie?2:1:0,f.css({coordsize:p[0]+c+" "+p[1]+c,antialias:""+(m.string().indexOf(V)>-1),left:h[0]-h[2]*Number(n===W),top:h[1]-h[2]*Number(n===R),width:p[0]+c,height:p[1]+c}).each(function(e){var i=t(this);i[i.prop?"prop":"attr"]({coordsize:p[0]+c+" "+p[1]+c,path:r,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!c&&!e)),!e&&i.html(at("stroke",'weight="'+2*c+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),a.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),i!==M&&this.calculate(e,p)},calculate:function(e,i){if(!this.enabled)return M;var o,n,s=this,r=this.qtip.elements,a=this.element,l=this.options.offset,h={};
return e=e||this.corner,o=e.precedance,i=i||this._calculateSize(e),n=[e.x,e.y],o===W&&n.reverse(),t.each(n,function(t,n){var a,p,c;n===V?(a=o===R?A:I,h[a]="50%",h[ct+"-"+a]=-Math.round(i[o===R?0:1]/2)+l):(a=s._parseWidth(e,n,r.tooltip),p=s._parseWidth(e,n,r.content),c=s._parseRadius(e),h[n]=Math.max(-s.border,t?p:l+(c>a?c:-a)))}),h[e[o]]-=i[o===W?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(h),h},reposition:function(t,e,i){function o(t,e,i,o,n){t===F&&l.precedance===e&&p[o]&&l[i]!==V?l.precedance=l.precedance===W?R:W:t!==F&&p[o]&&(l[e]=l[e]===V?p[o]>0?o:n:l[e]===o?n:o)}function n(t,e,o){l[t]===V?g[ct+"-"+e]=f[t]=s[ct+"-"+e]-p[e]:(r=s[o]!==h?[p[e],-s[e]]:[-p[e],s[e]],(f[t]=Math.max(r[0],r[1]))>r[0]&&(i[e]-=p[e],f[e]=M),g[s[o]!==h?o:e]=f[t])}if(this.enabled){var s,r,a=e.cache,l=this.corner.clone(),p=i.adjusted,c=e.options.position.adjust.method.split(" "),u=c[0],d=c[1]||c[0],f={left:M,top:M,x:0,y:0},g={};this.corner.fixed!==_&&(o(u,W,R,A,N),o(d,R,W,I,z),l.string()===a.corner.string()&&a.cornerTop===p.top&&a.cornerLeft===p.left||this.update(l,M)),s=this.calculate(l),s.right!==h&&(s.left=-s.right),s.bottom!==h&&(s.top=-s.bottom),s.user=this.offset,f.left=u===F&&!!p.left,f.left&&n(W,A,N),f.top=d===F&&!!p.top,f.top&&n(R,I,z),this.element.css(g).toggle(!(f.x&&f.y||l.x===V&&f.y||l.y===V&&f.x)),i.left-=s.left.charAt?s.user:u!==F||f.top||!f.left&&!f.top?s.left+this.border:0,i.top-=s.top.charAt?s.user:d!==F||f.left||!f.left&&!f.top?s.top+this.border:0,a.cornerLeft=p.left,a.cornerTop=p.top,a.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),rt=B.tip=function(t){return new S(t,t.options.style.tip)},rt.initialize="render",rt.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!==("undefined"==typeof e?"undefined":r(e))&&(e=t.style.tip={corner:e}),/string|boolean/i.test(r(e.corner))||(e.corner=_)}},T.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},t.extend(_,C.defaults,{style:{tip:{corner:_,mimic:M,width:6,height:6,border:_,offset:0}}}),B.viewport=function(t,e,i,o,n,s,r){function h(t,i,o,n,s,r,a,l,h){var p=e[s],v=b[t],w=x[t],S=o===F,C=v===s?h:v===r?-h:-h/2,k=w===s?l:w===r?-l:-l/2,D=y[s]+m[s]-(d?0:u[s]),T=D-p,P=p+h-(a===j?f:g)-D,_=C-(b.precedance===t||v===b[i]?k:0)-(w===V?l/2:0);return S?(_=(v===s?1:-1)*C,e[s]+=T>0?T:P>0?-P:0,e[s]=Math.max(-u[s]+m[s],p-_,Math.min(Math.max(-u[s]+m[s]+(a===j?f:g),p+_),e[s],"center"===v?p-C:1e9))):(n*=o===q?2:0,T>0&&(v!==s||P>0)?(e[s]-=_+n,c.invert(t,s)):P>0&&(v!==r||T>0)&&(e[s]-=(v===V?-_:_)+n,c.invert(t,r)),e[s]<y[s]&&-e[s]>P&&(e[s]=p,c=b.clone())),e[s]-p}var p,c,u,d,f,g,y,m,v=i.target,w=t.elements.tooltip,b=i.my,x=i.at,S=i.adjust,C=S.method.split(" "),k=C[0],D=C[1]||C[0],T=i.viewport,P=i.container,_={left:0,top:0};return T.jquery&&v[0]!==a&&v[0]!==l.body&&"none"!==S.method?(u=P.offset()||_,d="static"===P.css("position"),p="fixed"===w.css("position"),f=T[0]===a?T.width():T.outerWidth(M),g=T[0]===a?T.height():T.outerHeight(M),y={left:p?0:T.scrollLeft(),top:p?0:T.scrollTop()},m=T.offset()||_,"shift"===k&&"shift"===D||(c=b.clone()),_={left:"none"!==k?h(W,R,k,S.x,A,N,j,o,s):0,top:"none"!==D?h(R,W,D,S.y,I,z,O,n,r):0,my:c}):_},B.polys={polygon:function(t,e){var i,o,n,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:M},r=0,a=[],l=1,h=1,p=0,c=0;for(r=t.length;r--;)i=[parseInt(t[--r],10),parseInt(t[r+1],10)],i[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),a.push(i);if(o=s.width=Math.abs(s.position.right-s.position.left),n=s.height=Math.abs(s.position.bottom-s.position.top),"c"===e.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;o>0&&n>0&&l>0&&h>0;)for(o=Math.floor(o/2),n=Math.floor(n/2),e.x===A?l=o:e.x===N?l=s.width-o:l+=Math.floor(o/2),e.y===I?h=n:e.y===z?h=s.height-n:h+=Math.floor(n/2),r=a.length;r--&&!(a.length<2);)p=a[r][0]-s.position.left,c=a[r][1]-s.position.top,(e.x===A&&p>=l||e.x===N&&l>=p||e.x===V&&(l>p||p>s.width-l)||e.y===I&&c>=h||e.y===z&&h>=c||e.y===V&&(h>c||c>s.height-h))&&a.splice(r,1);s.position={left:a[0][0],top:a[0][1]}}return s},rect:function(t,e,i,o){return{width:Math.abs(i-t),height:Math.abs(o-e),position:{left:Math.min(t,i),top:Math.min(e,o)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,o,n){var s=B.polys._angles[n.abbrev()],r=0===s?0:i*Math.cos(s*Math.PI),a=o*Math.sin(s*Math.PI);return{width:2*i-Math.abs(r),height:2*o-Math.abs(a),position:{left:t+r,top:e+a},adjustable:M}},circle:function(t,e,i,o){return B.polys.ellipse(t,e,i,i,o)}},B.imagemap=function(e,i,o){i.jquery||(i=t(i));var n,s,r,a,l,h=(i.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),p=t('img[usemap="#'+i.parent("map").attr("name")+'"]'),c=t.trim(i.attr("coords")),u=c.replace(/,$/,"").split(",");if(!p.length)return M;if("polygon"===h)a=B.polys.polygon(u,o);else{if(!B.polys[h])return M;for(r=-1,l=u.length,s=[];++r<l;)s.push(parseInt(u[r],10));a=B.polys[h].apply(this,s.concat(o))}return n=p.offset(),n.left+=Math.ceil((p.outerWidth(M)-p.width())/2),n.top+=Math.ceil((p.outerHeight(M)-p.height())/2),a.position.left+=n.left,a.position.top+=n.top,a},B.svg=function(e,i,o){for(var n,s,r,a,h,p,c,u,d,f=i[0],g=t(f.ownerSVGElement),y=f.ownerDocument,m=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return M;switch(f.nodeName){case"ellipse":case"circle":u=B.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+m,(f.ry||f.r).baseVal.value+m,o);break;case"line":case"polygon":case"polyline":for(c=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}],u=[],p=-1,a=c.numberOfItems||c.length;++p<a;)h=c.getItem?c.getItem(p):c[p],u.push.apply(u,[h.x,h.y]);u=B.polys.polygon(u,o);break;default:u=f.getBBox(),u={width:u.width,height:u.height,position:{left:u.x,top:u.y}}}return d=u.position,g=g[0],g.createSVGPoint&&(s=f.getScreenCTM(),c=g.createSVGPoint(),c.x=d.left,c.y=d.top,r=c.matrixTransform(s),d.left=r.x,d.top=r.y),y!==l&&"mouse"!==e.position.target&&(n=t((y.defaultView||y.parentWindow).frameElement).offset(),n&&(d.left+=n.left,d.top+=n.top)),y=t(y),d.left+=y.scrollLeft(),d.top+=y.scrollTop(),u}})}(window,document)},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),s=i(4),r=i(1),a=i(5),l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-box"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Box=l;var h=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getContentDOM=function(t){return this.refs["contentDOM"+t]},e.prototype.getRenderContentSclass=function(t,e,i){return this.getWidgetSubSclass("content")},e.prototype.getRenderContentStyle=function(t,e,i){return{}},e.prototype.getRenderChildren=function(){var t=this,e={total:n.Children.count(this.props.children)};return n.Children.map(this.props.children,function(i,o){var s,r=t.getRenderContentSclass(i,o,e),a=t.getRenderContentStyle(i,o,e);return s="string"==typeof i?n.createElement("span",null,i):i,n.createElement("div",{className:r,style:a,ref:"contentDOM"+o},s)})},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Layout=h;var p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-hlayout"},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.calculateContentSize()},e.prototype.componentWillMount=function(){t.prototype.componentWillUnmount.call(this),this.registerQueue()},e.prototype.componentWillUnmount=function(){this.unregisterQueue(),t.prototype.componentWillUnmount.call(this)},e.prototype.onQueueEvent=function(t){r.QUEUE_EVENTS.ON_RESIZE==t.name&&this.calculateContentSize()},e.prototype.calculateContentSize=function(){var t=this,e=r.getInnerHeight(this.getDOM());n.Children.forEach(this.props.children,function(i,o){if(r.isWidgetElemnt(i)){var n=r.getWidgetProps(i);if(n.vflex){var a=s(t.getContentDOM(o));a.css({height:e})}}})},e.prototype.getRenderContentStyle=function(e,i,o){var n=t.prototype.getRenderContentStyle.call(this,e,i,o);if(r.isWidgetElemnt(e)){var s=r.getWidgetProps(e);s.invisible||(this.props.space&&o.anyVisible&&(n.marginLeft=this.props.space),s.hflex&&(n.flex=s.hflex),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(n.marginLeft=this.props.space),o.anyVisible=!0;return n},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},h.defaultProps),e}(h);e.Hlayout=p;var c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-vlayout"},e.prototype.getRenderContentStyle=function(e,i,o){var n=t.prototype.getRenderContentStyle.call(this,e,i,o);if(r.isWidgetElemnt(e)){var s=r.getWidgetProps(e);s.invisible||(this.props.space&&o.anyVisible&&(n.marginTop=this.props.space),s.vflex&&(n.flex=s.vflex,n.display="flex",n.flexDirection="column"),o.anyVisible=!0)}else this.props.space&&o.anyVisible&&(n.marginTop=this.props.space),o.anyVisible=!0;return n},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)],i=this.props.valign,o=this.props.halign,n=this.props.align;return n&&n.split(" ").forEach(function(t){(t=t.trim())&&e.push("wk-"+t)}),i&&e.push("wk-"+r.VPos[i]),o&&e.push("wk-"+r.VPos[o]),e.join(" ")},e.defaultProps=a.supplyProps({},h.defaultProps),e}(h);e.Vlayout=c;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this),"wkw-hgroup"];return e.join(" ")},e}(p);e.Hgroup=u;var d=function(t){function e(e){t.call(this,e),this.state={size:this.props.size}}return o(e,t),e.prototype.onBarMousedown=function(t){var e=this;t.preventDefault();var i,o=this.props,n=s(document),a=s(this.getDOM()),l=a.find("."+this.getWidgetSubSclass("bar"));i=o.orient==r.Orient.vertical?t.pageY-l.offset().top:t.pageX-l.offset().left;var h=function(t){t.preventDefault();var o,n=e.state,s=e.props;if(s.orient==r.Orient.vertical){var h=t.pageY-i-l.offset().top;o=(n.size?n.size:a.height())+h}else{var h=t.pageX-i-l.offset().left;o=(n.size?n.size:a.width())+h}o>0&&(!s.minSize||o>=s.minSize)&&(!s.maxSize||o<=s.maxSize)&&(e.setState({size:o}),r.sendWidgetResize())},p=function c(t){n.unbind("mousemove",h),n.unbind("mouseup",c),e.setState({resizing:!1}),r.sendWidgetResize()};n.bind("mousemove",h),n.bind("mouseup",p),this.setState({resizing:!0})},e.prototype.getWidgetSclass=function(){return"wkw-sider"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.orient==r.Orient.vertical?e.push("wk-vertical"):e.push("wk-horizontal"),e.join(" ")},e.prototype.getRenderStyle=function(){var e=this.props,i=t.prototype.getRenderStyle.call(this);return this.state.size>0&&(e.orient==r.Orient.vertical?i.height=this.state.size:i.width=this.state.size),i},e.prototype.getRenderChildren=function(){var t=[this.getWidgetSubSclass("bar")];return this.state.resizing&&t.push("wk-active"),[n.createElement(l,{hflex:1,vflex:1},this.props.children),n.createElement("div",{className:t.join(" "),onMouseDown:this.onBarMousedown.bind(this)})]},e.defaultProps=a.supplyProps({},r.Widget.defaultProps),e}(r.Widget);e.Sider=d},function(t,e,i){"use strict";function o(t,e,i,o){void 0===o&&(o={});var n=t.left,s=t.top,r=o.targetHPos?o.targetHPos:"right";switch(r){case"right":case p.HPos.right:n+=e.width;break;case"center":case p.HPos.center:n+=e.width/2}switch(r=o.targetVPos?o.targetVPos:"top"){case"bottom":case p.VPos.bottom:s+=e.height;break;case"middle":case p.VPos.middle:s+=e.height/2}switch(r=o.selfHPos?o.selfHPos:"left"){case"right":case p.HPos.right:n-=i.width;break;case"center":case p.HPos.center:n-=i.width/2}switch(r=o.selfVPos?o.selfVPos:"top"){case"bottom":case p.VPos.bottom:s-=i.height;break;case"middle":case p.VPos.middle:s-=i.height/2}return{top:s,left:n}}function n(t,e,i,a,l,h,p,d){void 0===d&&(d={});var f={top:h.top,left:h.left};switch(d.adjust){case"shift":case u.shift:var g=f.left+p.width,y=e.left+i.width-t.left;g>y&&(f.left-=g-y),g=f.top+p.height,y=e.top+i.height-t.top,g>y&&(f.top-=g-y),f.left+t.left<e.left&&(f.left=e.left-t.left),f.top+t.top<e.top&&(f.top=e.top-t.top);break;case"flip":case u.flip:var m=c.supplyProps({adjust:"shift"},d),v=!1;g=f.left+p.width,y=e.left+i.width-t.left,(f.left+t.left<e.left||g>y)&&(m.selfHPos=r(m.selfHPos),m.targetHPos=r(m.targetHPos),v=!0),g=f.top+p.height,y=e.top+i.height-t.top,(f.top+t.top<e.top||g>y)&&(m.selfVPos=s(m.selfVPos),m.targetVPos=s(m.targetVPos),v=!0),v&&(f=o(a,l,p,m),f=n(t,e,i,a,l,f,p,m))}return f}function s(t){switch(t){case"top":case p.VPos.top:return p.VPos.bottom;case"bottom":case p.VPos.bottom:return p.VPos.top}return t}function r(t){switch(t){case"left":case p.HPos.left:return p.HPos.right;case"right":case p.HPos.right:return p.HPos.left}return t}var a=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},l=i(4),h=i(1),p=i(1),c=i(5);e.zIndexStart=2e3,function(t){t[t.shift=1]="shift",t[t.flip=2]="flip"}(e.AdjustMethod||(e.AdjustMethod={}));var u=e.AdjustMethod,d=function(t){function i(e){t.call(this,e),this.dismissCount=0,void 0==this.state.invisible&&(this.state.invisible=!0)}return a(i,t),i.prototype.getId=function(){var e=t.prototype.getId.call(this);return void 0!=e?e:this.getPseudoId()},i.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.removeBodyListener()},i.prototype.removeBodyListener=function(){this.onBodyClick&&(l("body").off("click",this.onBodyClick),delete this.onBodyClick),this.onBodyKeyUp&&(l("body").off("keyup",this.onBodyKeyUp),delete this.onBodyKeyUp)},i.prototype.show=function(i,o){var n=this;void 0===i&&(i=void 0),void 0===o&&(o=void 0);var s=this.props,r=o?o:s.showOption?s.showOption:{};this.reposition(i,r);var a=this.getDOM(),p=l(a),c=p.parent(),u=e.zIndexStart;if(c.children().each(function(t,i){if(i!==a){var o=l(i).css("zIndex");u=isNaN(o)?Math.max(u,e.zIndexStart):Math.max(u,Number(o)+1)}}),this.setState({zIndex:u}),t.prototype.show.call(this),r.dismissTimeout>0){this.dismissCount++;var d=r.dismissTimeout;s.animation&&(d+=s.animation.duration||h.DEFAULT_ANIMATION_DURATION),this.safeTimeout(function(){n.dismissCount--,0==n.dismissCount&&n.hide()},d)}if(r.autoDismiss){if(!this.onBodyClick){var f=function(t){var e=["#"+n.getId()];r.autoDismissHolders&&e.push.apply(e,r.autoDismissHolders);var i=l(t.target);e.some(function(t){return i.closest(t).length>0})||n.hide()};l("body").on("click",this.onBodyClick=f)}if(!this.onBodyKeyUp){var f=function(t){27==t.keyCode&&n.hide()};l("body").on("keyup",this.onBodyKeyUp=f)}}else this.removeBodyListener()},i.prototype.reposition=function(t,e){var i,s=this.props,r=e?e:s.showOption?s.showOption:{},a=l(this.getDOM()),p=a.parent(),c=p.offset();if(i=void 0==r.adjustViewport?l(document.body):r.adjustViewport instanceof l?r.adjustViewport:"boolean"==typeof r.adjustViewport&&r.adjustViewport?p:l(r.adjustViewport),0==i.length)throw"can't find viewport dom for adjustment by "+r.adjustViewport;var u,d,f={top:i.scrollTop(),left:i.scrollLeft()},g=i.offset(),y={height:i[0].scrollHeight,width:i[0].scrollWidth};if(t){var m=t;if(m.target&&"pageX"in m&&"pageY"in m)u={top:m.pageY,left:m.pageX},d={height:0,width:0};else{var v=l(t);u=v.offset(),d={height:h.getOutterHeight(v[0]),width:h.getOutterWidth(v[0])}}}else u=a.offset(),d={height:0,width:0};var w=a.is(":visible");w||a.show();var b={height:h.getOutterHeight(a[0]),width:h.getOutterWidth(a[0])};w||a.hide();var x=o(u,d,b,r);x.left+=0|r.adjustX,x.top+=0|r.adjustY,r.adjust&&(x=n(f,g,y,u,d,x,b,r)),this.setState({top:x.top-c.top+p.scrollTop(),left:x.left-c.left+p.scrollLeft()})},i.prototype.hide=function(){t.prototype.hide.call(this),this.props.animation||this.setState({zIndex:void 0}),this.removeBodyListener()},i.prototype.afterAnimation=function(){t.prototype.afterAnimation.call(this),this.state.invisible&&this.setState({zIndex:void 0})},i.prototype.getWidgetSclass=function(){return"wkw-popup"},i.prototype.getRenderStyle=function(){var e=t.prototype.getRenderStyle.call(this),i=this.state;return e.top=i.top,e.left=i.left,e.zIndex=i.zIndex,e},i.defaultProps=c.supplyProps({},h.Widget.defaultProps),i}(h.Widget);e.Popup=d},function(t,e,i){"use strict";function o(){var t=document.getElementById(u);return t||(l(document.body).append('<div id="'+u+'" />'),t=document.getElementById(u)),t}var n,s=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(2),a=i(3),l=i(4),h=i(1),p=i(5),c=i(8),u="wkModalCave",d=function(t){function e(e){t.call(this,e),this._modalStack=[],this.state.modalStack=this._modalStack}return s(e,t),e.prototype.getWidgetSclass=function(){return"wkw-modal-container"},e.prototype.putModal=function(t){var e=this._modalStack,i=e.indexOf(t);if(0>i)e.push(t);else{if(i==e.length-1)return;e.splice(i,1),e.push(t)}this.setState({modalStack:this._modalStack})},e.prototype.getModal=function(){var t=this._modalStack;return t.length>0?t[t.length-1]:void 0},e.prototype.clearModal=function(t){for(var e,i=this._modalStack,o=i.length-1;o>=0;o--)i[o]==t&&(i.splice(o,1),e=!0);e&&this.setState({modalStack:this._modalStack})},e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this);var i=(this.state,l(this.getDOM())),o=this.getModal();o&&(h.gainFocus(i),o.props.doAfterShow&&o.props.doAfterShow()),i.click(function(t){0==l(":focus").length&&l(e.refs.keyAnchor).focus()}),l(document.body).on("focusin",this.onBodyFocusin=function(t){var i=e.getModal();if(i){var o=e.getDOM();l.contains(o,t.target)||h.gainFocus(o)}}).on("keyup",this.onBodyKeyup=function(t){var i=e.getModal();if(i){var o=e.getDOM();l.contains(o,t.target)&&27==t.keyCode&&i.props.doEsc&&i.props.doEsc()}})},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.onBodyFocusin&&(l(document.body).off("focusin",this.onBodyFocusin),delete this.onBodyFocusin),this.onBodyKeyup&&(l(document.body).off("keyup",this.onBodyKeyup),delete this.onBodyKeyup)},e.prototype.componentDidUpdate=function(e,i){t.prototype.componentDidUpdate.call(this,e,i);var o=this.getModal();o&&(h.gainFocus(this.getDOM()),o.props.doAfterShow&&o.props.doAfterShow())},e.prototype.getRenderChildren=function(){var t=this.getModal();if(t){var e=t.getPseudoId(),i=[this.getWidgetSubSclass("content"),t.getWidgetSubSclass("content")].join(" "),o=h.createReactElement("div",{className:i},t.getModalRenderChildren());return r.createElement(c.Box,{key:e,hflex:1,vflex:1,align:"center middle",animation:t.props.animation},o,r.createElement("a",{ref:"keyAnchor",href:"javascript: void(0)"}))}},e.prototype.getRenderStyle=function(){var e=t.prototype.getRenderStyle.call(this),i=this.getModal();return i||(e.display="none"),e},e.defaultProps=p.supplyProps({},h.Widget.defaultProps),e}(h.Widget);e.ModalContainer=d;var f=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var e=this.props;e.show&&this.getContainer().putModal(this)},e.prototype.componentDidUpdate=function(e,i){t.prototype.componentDidUpdate.call(this,e,i);var o=this.props,n=this.getContainer();o.show!=e.show?o.show?n.putModal(this):n.clearModal(this):o.show&&n.getModal()!=this&&n.putModal(this)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.show&&this.getContainer().clearModal(this)},e.prototype.getContainer=function(){return n||(n=a.render(r.createElement(d,null),o())),n},e.prototype.getWidgetSclass=function(){return"wkw-modal"},e.prototype.getModalRenderChildren=function(){return this.props.children},e.prototype.getRenderChildren=function(){},e.defaultProps=p.supplyProps({},h.Widget.defaultProps),e}(h.Widget);e.Modal=f;var g=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.getWidgetSclass=function(){return"wkw-window"},e.prototype.getModalRenderChildren=function(){var t=this.props,e=this.getWidgetSubSclass("body"),i=this.getWidgetSubSclass("title-bar"),o=[r.createElement(c.Box,{hflex:1},t.title)];if(t.doClose){var n=[this.getWidgetSubSclass("close"),"wk-aux"].join(" ");o.push(r.createElement("button",{type:"button",className:n,onClick:this.props.doClose},""))}var s=h.createReactElement(c.Hlayout,{className:i,hflex:1,align:"middle"},o);return r.createElement(c.Vlayout,null,s,r.createElement("div",{className:e},this.props.children))},e.defaultProps=p.supplyProps({},f.defaultProps),e}(f);e.Window=g},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=Object.assign||function(t){for(var e,i=1,o=arguments.length;o>i;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},s=i(2),r=i(5),a=i(1),l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.onChange=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.defaultProps=r.supplyProps({},a.Widget.defaultProps),e}(a.Widget);e.Input=l,function(t){t[t.text=1]="text",t[t.textarea=2]="textarea",t[t.password=3]="password"}(e.TextboxType||(e.TextboxType={}));var h=e.TextboxType,p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-textbox"},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),this.props.doChange&&this.props.doChange(e.target.value)},e.prototype.getRenderChildren=function(){var t=this.props,e=t.onChange||t.doChange?this.onChange.bind(this):void 0,i={};(t.hflex||t.style&&t.style.width)&&(i.width="100%"),(t.vflex||t.style&&t.style.height)&&(i.height="100%");var o={disabled:t.disabled,readOnly:t.readOnly,style:i,placeholder:t.placeholder,defaultValue:t.defaultValue,name:t.name,value:t.value,maxLength:t.maxLength,onChange:e,onKeyUp:t.onKeyUp,onKeyDown:t.onKeyDown,onKeyPress:t.onKeyPress},r="text";switch(t.type){case"textarea":case h.textarea:return t.hflex&&t.vflex?i.resize="none":t.hflex?i.resize="vertical":t.vflex&&(i.resize="horizontal"),s.createElement("textarea",n({},o));case"password":case h.password:r="password";default:return s.createElement("input",n({type:r},o))}},e.defaultProps=r.supplyProps({},l.defaultProps),e}(l);e.Textbox=p;var c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-checkbox"},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),this.props.doCheck&&this.props.doCheck(e.target.checked,this.props.value)},e.prototype.getInputType=function(){return"checkbox"},e.prototype.getRenderChildren=function(){var t,e=this.props;t=e.id?[e.id,"_inp"].join(""):[this.getPseudoId(),"_inp"].join("");var i;e.label&&(i=s.createElement("label",{htmlFor:t},e.label));var o=this.getInputType(),n=e.onChange||e.doCheck?this.onChange.bind(this):void 0,r="string"==typeof e.value?e.value:void 0;return[s.createElement("input",{id:t,type:o,onChange:n,checked:e.checked,disabled:e.disabled,readOnly:e.readOnly,defaultChecked:e.defaultChecked,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,name:e.name,value:r}),i]},e.defaultProps=r.supplyProps({},l.defaultProps),e}(l);e.Checkbox=c;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-radiobox"},e.prototype.getInputType=function(){return"radio"},e}(c);e.Radiobox=u},function(t,e,i){"use strict";var o=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),s=i(1),r=i(5),a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getWidgetSclass=function(){return"wkw-list"},e.prototype.getRenderSclass=function(){var e=[t.prototype.getRenderSclass.call(this)];return this.props.disabled&&e.push("wk-disabled"),e.join(" ")},e.prototype.getRenderChildren=function(){var t=this.props,e=t.selection;if(t.model){var i=t.itemRenderer;if(!i){var o="Need itemRenderer to render model of List";throw o}var s=t.model.map(function(o,s){var r=i.key(s,o);void 0!=r&&null!=r||(r=s);var a=i.render(s,o),l=e?e.isSelected(s,o):!1,h=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,s,o),t.doSelect&&t.doSelect(!l,s,o)}:void 0,p=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,s,o)}:void 0,c=t.onItemContextMenu?function(e){t.onItemContextMenu(e,s,o)}:void 0;return n.createElement("li",{key:r,className:l?"wk-selected":void 0,onClick:h,onDoubleClick:p,onContentMenu:c},a)});return n.createElement("ul",null,s)}if(t.children){var s=n.Children.map(t.children,function(i,o){var s=e?e.isSelected(o,null):!1,r=t.onItemClick||t.doSelect?function(e){t.onItemClick&&t.onItemClick(e,o,null),t.doSelect&&t.doSelect(!s,o,null)}:void 0,a=t.onItemDoubleClick?function(e){t.onItemDoubleClick(e,o,null)}:void 0,l=t.onItemContextMenu?function(e){t.onItemContextMenu(e,o,null)}:void 0;return n.createElement("li",{className:s?"wk-selected":void 0,onClick:r,onDoubleClick:a,onContextMenu:l},i)});return n.createElement("ul",null,s)}return n.createElement("ul",null)},e.defaultProps=r.supplyProps({},s.Widget.defaultProps),e}(s.Widget);e.List=a},function(t,e,i){"use strict";function o(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function n(t){return new Date(t.getFullYear(),t.getMonth(),1).getDay()}function s(){}var r=function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},a=i(2),l=i(4),h=i(14),p=i(1),c=i(5),u=i(1),d=i(8),f=i(11),g=i(9);e.defaultDateboxIcon="fa fa-calendar",e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",reset:"Reset",clean:"Clean"};var y=1971,m=3,v=4*m,w=3;!function(t){t[t.year=1]="year",t[t.month=2]="month",t[t.date=3]="date",t[t.time=4]="time"}(e.View||(e.View={}));var b=e.View,x=function(t){function i(e){t.call(this,e),this.state.viewingDate=e.selected?new Date(e.selected.getTime()):new Date,this.state.view=b.date}return r(i,t),i.prototype.isUncontrolled=function(){return void 0==this.props.selected},i.prototype.getSelectedDate=function(){return this.isUncontrolled()?this.state.uncontrolled:this.props.selected},i.prototype.componentWillReceiveProps=function(e){t.prototype.componentWillReceiveProps.call(this,e);var i=this.props;i.selected!=e.selected&&e.selected&&this.setState({viewingDate:new Date(e.selected.getTime())})},i.prototype.doReset=function(){var t=this.getSelectedDate();this.setState({viewingDate:t?new Date(t.getTime()):new Date,view:b.date})},i.prototype.doToday=function(){var t=this,e=this.props,i=new Date;e.doSelect&&this.props.doSelect(i),this.safeTimeout(function(){t.setState({viewingDate:i,uncontrolled:t.isUncontrolled()?i:void 0,view:b.date})},0)},i.prototype.doClean=function(){var t=this,e=this.props;e.doSelect&&this.props.doSelect(null),this.safeTimeout(function(){t.setState({uncontrolled:void 0,view:b.date})},0)},i.prototype.doYearView=function(){this.setState({view:b.year})},i.prototype.doMonthView=function(){this.setState({view:b.month})},i.prototype.doDateView=function(){this.setState({view:b.date})},i.prototype.doTimeView=function(){this.setState({view:b.time})},i.prototype.doYearSelect=function(t){var e=this.state.viewingDate;e.getFullYear()!=t&&(e=new Date(this.state.viewingDate.getTime()),e.setFullYear(t)),this.setState({view:b.month,viewingDate:e})},i.prototype.doYearShift=function(t){var e=this.state.viewingDate.getFullYear(),i=e-(e-y)%v;if(t||!(y>=i)){var o=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:c.addDateField(o,c.DateField.year,t?v:-v)})}},i.prototype.doMonthSelect=function(t){var e=this.state.viewingDate;e.getMonth()!=t&&(e=new Date(this.state.viewingDate.getTime()),e.setMonth(t)),this.setState({view:b.date,viewingDate:e})},i.prototype.doMonthShift=function(t){var e=this.state.viewingDate.getFullYear();if(t||!(y>=e)){var i=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:c.addDateField(i,c.DateField.year,t?1:-1)})}},i.prototype.doDateSelect=function(t){var e=this.props,i=new Date(this.state.viewingDate.getTime());i.setDate(t),e.doSelect&&this.props.doSelect(i),this.isUncontrolled()&&this.setState({viewingDate:i,uncontrolled:i})},i.prototype.doDateShift=function(t){var e=this.state.viewingDate.getFullYear(),i=this.state.viewingDate.getMonth();if(t||!(y>e||e==y&&0==i)){var o=new Date(this.state.viewingDate.getTime());this.setState({viewingDate:c.addDateField(o,c.DateField.month,t?1:-1)})}},i.prototype.getWidgetSclass=function(){return"wkw-calendar"},i.prototype.getRenderChildren=function(){var t=this.props,i=this.state,o=this.getSelectedDate(),n=[];switch(i.view){case b.year:n.push(a.createElement(S,{key:"year",selectedDate:o,viewingDate:i.viewingDate,doTitleShift:this.doYearShift.bind(this),doSelect:this.doYearSelect.bind(this)}));break;case b.month:n.push(a.createElement(C,{key:"month",selectedDate:o,viewingDate:i.viewingDate,doTitleShift:this.doMonthShift.bind(this),doTitleClick:this.doYearView.bind(this),doSelect:this.doMonthSelect.bind(this)}));break;case b.date:n.push(a.createElement(k,{key:"date",selectedDate:o,viewingDate:i.viewingDate,firstDayOfWeek:t.firstDayOfWeek,doTitleShift:this.doDateShift.bind(this),doTitleClick:this.doMonthView.bind(this),doSelect:this.doDateSelect.bind(this)}));break;case b.time:}return n.push(a.createElement(d.Hgroup,{className:this.getWidgetSubSclass("bottombar"),hflex:1,align:"center"},a.createElement(u.Button,{className:"wk-aux",onClick:this.doToday.bind(this)},e.i18n.today),a.createElement(u.Button,{className:"wk-aux",onClick:this.doClean.bind(this)},e.i18n.clean),a.createElement(u.Button,{className:"wk-aux",onClick:this.doReset.bind(this)},e.i18n.reset))),p.createReactElement(d.Box,{hflex:1,vflex:1},n)},i.prototype.getRenderStyle=function(){var e=this.props,i=t.prototype.getRenderStyle.call(this);return e.hflex||i.width||(i.width=260),e.vflex||i.height||(i.height=302),i},i.defaultProps=c.supplyProps({},p.Widget.defaultProps),i}(p.Widget);e.Calendar=x;var S=function(t){function e(e){t.call(this,e);
}return r(e,t),e.prototype.doSelect=function(t){this.props.doSelect(t)},e.prototype.render=function(){for(var t=this.props,e=new Date,i=e.getFullYear(),o=t.viewingDate.getFullYear(),n=o-(o-y)%v,s=t.selectedDate?t.selectedDate.getFullYear():void 0,r=c.formatString("{} - {}",n,n+v-1),h=[],u=0,f=function(t){l(t.currentTarget).addClass("wk-active")},g=function(t){l(t.currentTarget).removeClass("wk-active")},w=0;;w++){for(var b=[],x=0;m>x;x++){var S=n+w*m+x,C=[];if(S==s&&C.push("wk-selected"),S==i&&C.push("wk-today"),b.push(a.createElement("td",{className:C.join(" "),onMouseDown:f,onMouseUp:g,onMouseLeave:g,onClick:this.doSelect.bind(this,S)},S)),u++,u>=v)break}if(b.length>0&&h.push(p.createReactElement("tr",{},b)),u>=v)break}var k=p.createReactElement("tbody",{},h);return a.createElement(d.Box,{className:"wkw-calendar-yearview",hflex:1,vflex:1},a.createElement(D,{title:r,doTitleShift:t.doTitleShift}),a.createElement(d.Box,{hflex:1,vflex:1},a.createElement("table",{className:"wkw-calendar-table"},k)))},e}(p.Component),C=function(t){function i(e){t.call(this,e)}return r(i,t),i.prototype.doSelect=function(t){this.props.doSelect(t)},i.prototype.render=function(){for(var t=this.props,i=new Date,o=i.getMonth(),n=i.getFullYear(),s=(t.viewingDate.getMonth(),t.viewingDate.getFullYear()),r=t.selectedDate?t.selectedDate.getMonth():void 0,h=t.selectedDate?t.selectedDate.getFullYear():void 0,u=c.formatString("{}",s),f=[],g=0,y=function(t){l(t.currentTarget).addClass("wk-active")},m=function(t){l(t.currentTarget).removeClass("wk-active")},v=0;;v++){for(var b=[],x=0;w>x;x++){var S=v*w+x,C=[];if(s==h&&S==r&&C.push("wk-selected"),s==n&&S==o&&C.push("wk-today"),b.push(a.createElement("td",{className:C.join(" "),onMouseDown:y,onMouseUp:m,onMouseLeave:m,onClick:this.doSelect.bind(this,S)},e.i18n.monthNames[S])),g++,g>=12)break}if(b.length>0&&f.push(p.createReactElement("tr",{},b)),g>=12)break}var k=p.createReactElement("tbody",{},f);return a.createElement(d.Box,{className:"wkw-calendar-monthview",hflex:1,vflex:1},a.createElement(D,{title:u,doTitleClick:t.doTitleClick,doTitleShift:t.doTitleShift}),a.createElement(d.Box,{hflex:1,vflex:1},a.createElement("table",{className:"wkw-calendar-table"},k)))},i}(p.Component),k=function(t){function i(e){t.call(this,e)}return r(i,t),i.prototype.doSelect=function(t){this.props.doSelect(t)},i.prototype.render=function(){var t=this.props,i=new Date,s=i.getDate(),r=i.getMonth(),h=i.getFullYear(),u=(t.viewingDate.getDate(),t.viewingDate.getMonth()),f=t.viewingDate.getFullYear(),g=t.selectedDate?t.selectedDate.getDate():void 0,y=t.selectedDate?t.selectedDate.getFullYear():void 0,m=t.selectedDate?t.selectedDate.getMonth():void 0,v=o(t.viewingDate),w=n(t.viewingDate),b=o(c.addDateField(new Date(t.viewingDate.getTime()),c.DateField.month,-1)),x=function(t){l(t.currentTarget).addClass("wk-active")},S=function(t){l(t.currentTarget).removeClass("wk-active")},C=c.formatString("{} {}",e.i18n.longMonthNames[u],f),k=[],T=t.firstDayOfWeek?t.firstDayOfWeek:0,P=0==T?0:7-T,_=0==P?w:w-1;0>=_&&(_+=7);for(var M=[],E=0;7>E;E++){for(var W=T+E;W>=7;)W-=7;var R=E==P?"wk-sunday":void 0;M.push(a.createElement("th",{className:R},e.i18n.dayNames[W]))}k.push(p.createReactElement("tr",{},M));for(var j=0;6>j;j++){for(var O=[],E=0;7>E;E++){var I=7*j+E;I=I-_+1;var R=[];f==y&&u==m&&I==g&&R.push("wk-selected"),f==h&&u==r&&I==s&&R.push("wk-today"),E==P&&R.push("wk-sunday");var A=void 0;0>=I?(A=b+I,R.push("wk-date-prv-m")):I>v?(A=I-v,R.push("wk-date-next-m")):(R.push("wk-date"),A=I),O.push(a.createElement("td",{className:R.join(" "),onMouseDown:x,onMouseUp:S,onMouseLeave:S,onClick:this.doSelect.bind(this,I)},A))}O.length>0&&k.push(p.createReactElement("tr",{},O))}var z=p.createReactElement("tbody",{},k);return a.createElement(d.Box,{className:"wkw-calendar-dateview",hflex:1,vflex:1},a.createElement(D,{title:C,doTitleClick:t.doTitleClick,doTitleShift:t.doTitleShift}),a.createElement(d.Box,{hflex:1,vflex:1},a.createElement("table",{className:"wkw-calendar-table"},z)))},i}(p.Component),D=(function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.render=function(){return a.createElement("div",{className:"wkw-calendar-time"})},e}(p.Component),function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.render=function(){var t=this.props,e=[];return t.doTitleShift&&e.push(a.createElement("button",{className:"wk-aux",onClick:function(){t.doTitleShift(!1)}}," < ")),e.push(a.createElement(d.Box,{hflex:1,align:"center"},a.createElement("div",{className:t.doTitleClick?"wk-clickable":void 0,onClick:t.doTitleClick}," ",this.props.title))),t.doTitleShift&&e.push(a.createElement("button",{className:"wk-aux",onClick:function(){t.doTitleShift(!0)}}," > ")),p.createReactElement(d.Hlayout,{className:"wkw-calendar-titlebar",hflex:1,align:"middle"},e)},e}(p.Component)),T={autoDismiss:!0,targetHPos:u.HPos.left,targetVPos:u.VPos.bottom,selfHPos:u.HPos.left,selfVPos:u.VPos.top,adjust:g.AdjustMethod.flip},P=function(t){function i(){t.apply(this,arguments)}return r(i,t),i.prototype.getId=function(){var e=t.prototype.getId.call(this);return void 0!=e?e:this.getPseudoId()},i.prototype.getWidgetSclass=function(){return"wkw-datebox"},i.prototype.isUncontrolled=function(){return void 0==this.props.value},i.prototype.doCalendarToggle=function(){var t=this.props,e=this.refs.popup;if(e.state.invisible){var i={adjustViewport:t.calendarViewport,autoDismissHolders:["#"+this.getId()]};e.show(this.getDOM(),l.extend(i,T))}else e.hide()},i.prototype.doCalendarSelect=function(t){var e=this.props;e.doChange&&!c.isDateEquals(e.value,t,c.DateField.date)&&e.doChange(t)&&this.refs.popup.hide(),this.isUncontrolled()&&(this.setState({uncontrolled:t}),this.refs.popup.hide())},i.prototype.onTextboxKeyUp=function(t){var e=this.refs.popup,i=e.state.invisible;if(i&&27!=t.keyCode){var o={autoDismissHolders:["#"+this.getId()]};e.show(this.getDOM(),l.extend(o,T))}else i||27!=t.keyCode||e.hide()},i.prototype.getRenderChildren=function(){var t=this.props,i=(this.getId(),t.icon?t.icon:e.defaultDateboxIcon),o=this.isUncontrolled()?this.state.uncontrolled:t.value,n=o?h(o).format(t.format?t.format:"LL"):"",r=[];return r.push(a.createElement(d.Hgroup,{hflex:t.hflex,vflex:t.vflex,ref:"inpgroup"},a.createElement(f.Textbox,{hflex:t.hflex,vflex:t.vflex,value:n,disabled:t.disabled,placeholder:t.placeholder,name:t.name,onChange:s,onKeyUp:this.onTextboxKeyUp.bind(this)}),a.createElement(u.Button,{vflex:1,disabled:t.disabled,onClick:this.doCalendarToggle.bind(this)},a.createElement(u.Fonticon,{className:i})))),r.push(a.createElement(g.Popup,{ref:"popup",animation:{effect:"fade",eager:!0,duration:50}},a.createElement(x,{className:"wk-borderless",selected:o,firstDayOfWeek:t.firstDayOfWeek,doSelect:this.doCalendarSelect.bind(this)}))),r},i.defaultProps=c.supplyProps({},p.Widget.defaultProps),i}(p.Widget);e.Datebox=P},function(t,e){t.exports=o}])});