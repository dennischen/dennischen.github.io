{"version":3,"sources":["util/event-queue.ts"],"names":[],"mappings":";;IAiBA;QAAA;YACY,cAAS,GAAkB,EAAE,CAAC;QAmB1C,CAAC;QAjBG,yBAAG,GAAH,UAAI,CAAc;YACd,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC;QACD,4BAAM,GAAN,UAAO,CAAc;YACjB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACpC,CAAC;QACL,CAAC;QACD,0BAAI,GAAJ,UAAK,GAAM;YACP,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,IAAI;gBACxB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC;QACP,CAAC;QACD,0BAAI,GAAJ,UAAK,GAAM,EAAE,OAAe;YAA5B,iBAEC;YADG,UAAU,CAAC,cAAQ,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAClD,CAAC;QACL,kBAAC;IAAD,CApBA,AAoBC,IAAA;IApBY,mBAAW,cAoBvB,CAAA","file":"../../js/util/event-queue.js","sourcesContent":["\r\nexport interface Listener<E extends Event> {\r\n    onQueueEvent(evt: E): void\r\n}\r\n\r\nexport interface Queue<E extends Event> {\r\n    add(l: Listener<E>): void;\r\n    remove(l: Listener<E>): void;\r\n    send(evt: E): void;\r\n    post(evt: E, timeout: number): void;\r\n}\r\n\r\nexport interface Event {\r\n    name: string\r\n    data: any\r\n}\r\n\r\nexport class SimpleQueue<E extends Event> implements Queue<E> {\r\n    private listeners: Listener<E>[] = [];\r\n\r\n    add(l: Listener<E>): void {\r\n        this.listeners.push(l);\r\n    }\r\n    remove(l: Listener<E>): void {\r\n        let index = this.listeners.indexOf(l);\r\n        if (index > -1) {\r\n            this.listeners.splice(index, 1);\r\n        }\r\n    }\r\n    send(evt: E): void {\r\n        this.listeners.forEach((each) => {\r\n            each.onQueueEvent(evt);\r\n        });\r\n    }\r\n    post(evt: E, timeout: number): void {\r\n        setTimeout(() => { this.send(evt) }, timeout);\r\n    }\r\n}"]}